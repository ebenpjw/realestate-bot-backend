"use strict";exports.id=296,exports.ids=[296],exports.modules={62896:(e,s,t)=>{t.d(s,{TK:()=>c});var a=t(10326);t(17577);var l=t(79360),r=t(77863);let i=(0,l.j)("animate-spin",{variants:{size:{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},variant:{default:"text-primary",muted:"text-muted-foreground",destructive:"text-destructive"}},defaultVariants:{size:"md",variant:"default"}});function c({size:e,variant:s,className:t,label:l="Loading...",...c}){return(0,a.jsxs)("div",{className:(0,r.cn)("flex items-center justify-center",t),role:"status","aria-label":l,...c,children:[(0,a.jsxs)("svg",{className:(0,r.cn)(i({size:e,variant:s})),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{className:"sr-only",children:l})]})}},18962:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{RW:()=>h,Us:()=>m,n$:()=>g});var l=t(10326),r=t(17610),i=t(32432),c=t(19381),n=t(83401),d=t(37740),o=t(41135),x=e([r,i]);function m({showText:e=!0,size:s="md",className:t}){let{connected:a}=(0,r.s)(),{metrics:d}=(0,i.k)(),x={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"},m=a?d.systemAlerts>0?{icon:c.Z,color:"text-yellow-500",bgColor:"bg-yellow-100",text:"Connected",description:`${d.systemAlerts} system alert${d.systemAlerts>1?"s":""}`}:{icon:n.Z,color:"text-green-500",bgColor:"bg-green-100",text:"Connected",description:"All systems operational"}:{icon:c.Z,color:"text-red-500",bgColor:"bg-red-100",text:"Disconnected",description:"Real-time features unavailable"},g=m.icon;return(0,l.jsxs)("div",{className:(0,o.Z)("flex items-center space-x-2",t),children:[l.jsx("div",{className:(0,o.Z)("flex items-center justify-center rounded-full p-1",m.bgColor),children:l.jsx(g,{className:(0,o.Z)(x[s],m.color)})}),e&&(0,l.jsxs)("div",{className:"flex flex-col",children:[l.jsx("span",{className:(0,o.Z)("font-medium",{sm:"text-xs",md:"text-sm",lg:"text-base"}[s],m.color),children:m.text}),m.description&&l.jsx("span",{className:(0,o.Z)("text-gray-500","text-xs"),children:m.description})]}),a&&(0,l.jsxs)("div",{className:"relative",children:[l.jsx("div",{className:(0,o.Z)("absolute rounded-full animate-ping",m.bgColor,x[s])}),l.jsx("div",{className:(0,o.Z)("relative rounded-full",m.bgColor,x[s])})]})]})}function g({className:e}){let{metrics:s,connected:t}=(0,i.k)();return t?(0,l.jsxs)("div",{className:(0,o.Z)("grid grid-cols-2 md:grid-cols-4 gap-4",e),children:[(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:s.activeConversations}),l.jsx("div",{className:"text-sm text-gray-600",children:"Active Chats"})]}),(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:s.newLeads}),l.jsx("div",{className:"text-sm text-gray-600",children:"New Leads"})]}),(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:s.pendingAppointments}),l.jsx("div",{className:"text-sm text-gray-600",children:"Appointments"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("div",{className:"text-2xl font-semibold text-gray-900",children:[Math.round(s.apiUsage.total),"%"]}),l.jsx("div",{className:"text-sm text-gray-600",children:"API Usage"})]})]}):(0,l.jsxs)("div",{className:(0,o.Z)("text-center py-4",e),children:[l.jsx(d.Z,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Real-time data unavailable"})]})}function h({className:e}){let{notifications:s}=(0,i.k)(),t=s.slice(0,5);return(0,l.jsxs)("div",{className:(0,o.Z)("space-y-3",e),children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Live Activity"}),t.length>0?l.jsx("div",{className:"space-y-2",children:t.map(e=>(0,l.jsxs)("div",{className:"flex items-start space-x-3 p-2 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[l.jsx("div",{className:(0,o.Z)("flex-shrink-0 w-2 h-2 rounded-full mt-2","success"===e.type&&"bg-green-400","error"===e.type&&"bg-red-400","warning"===e.type&&"bg-yellow-400","info"===e.type&&"bg-blue-400")}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),l.jsx("p",{className:"text-xs text-gray-600 truncate",children:e.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.timestamp.toLocaleTimeString()})]})]},e.id))}):l.jsx("p",{className:"text-sm text-gray-500",children:"No recent activity"})]})}[r,i]=x.then?(await x)():x,a()}catch(e){a(e)}})},32432:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{k:()=>d});var l=t(17577),r=t(17610),i=t(57963),c=t(85999),n=e([r]);function d(){let{socket:e,connected:s}=(0,r.s)(),{user:t}=(0,i.a)(),[a,n]=(0,l.useState)([]),[d,o]=(0,l.useState)({activeConversations:0,newLeads:0,pendingAppointments:0,systemAlerts:0,apiUsage:{whatsapp:0,openai:0,total:0}}),x=(0,l.useCallback)(e=>{let s={...e,id:Date.now().toString(),timestamp:new Date,read:!1};switch(n(e=>[s,...e.slice(0,49)]),e.type){case"success":c.A.success(e.title,{description:e.message});break;case"error":c.A.error(e.title,{description:e.message});break;case"warning":c.A.warning(e.title,{description:e.message});break;default:c.A.info(e.title,{description:e.message})}},[]),m=(0,l.useCallback)(e=>{n(s=>s.map(s=>s.id===e?{...s,read:!0}:s))},[]),g=(0,l.useCallback)(()=>{n(e=>e.map(e=>({...e,read:!0})))},[]),h=(0,l.useCallback)(()=>{n([])},[]),p=a.filter(e=>!e.read).length;return{notifications:a,metrics:d,unreadCount:p,addNotification:x,markAsRead:m,markAllAsRead:g,clearNotifications:h,connected:s}}r=(n.then?(await n)():n)[0],a()}catch(e){a(e)}})},77863:(e,s,t)=>{t.d(s,{cn:()=>r});var a=t(41135),l=t(31009);function r(...e){return(0,l.m6)((0,a.W)(e))}}};