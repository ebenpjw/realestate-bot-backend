(()=>{var e={};e.id=865,e.ids=[865],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},14612:e=>{"use strict";e.exports=import("socket.io-client")},42403:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),a(60638),a(56956),a(11411),a(25047);var r=a(23191),s=a(88716),l=a(37922),n=a.n(l),i=a(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let c=["",{children:["agent",{children:["leads",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,60638)),"C:\\Users\\Imperial\\Desktop\\realestate-bot-backend\\frontend\\app\\agent\\leads\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,56956)),"C:\\Users\\Imperial\\Desktop\\realestate-bot-backend\\frontend\\app\\agent\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,11411)),"C:\\Users\\Imperial\\Desktop\\realestate-bot-backend\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,25047)),"C:\\Users\\Imperial\\Desktop\\realestate-bot-backend\\frontend\\app\\not-found.tsx"]}],d=["C:\\Users\\Imperial\\Desktop\\realestate-bot-backend\\frontend\\app\\agent\\leads\\page.tsx"],u="/agent/leads/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/agent/leads/page",pathname:"/agent/leads",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},68274:(e,t,a)=>{Promise.resolve().then(a.bind(a,62470))},62470:(e,t,a)=>{"use strict";let r,s,l,n,i;a.r(t),a.d(t,{default:()=>eA});var o=a(10326),c=a(17577),d=a(57963),u=a(62896),m=a(95466),x=a(50133),p=a(69959),h=a(7710),f=a(56818),g=a(60531),v=a(12607),b=a(41135);function y({leads:e,selectedLeads:t,onLeadSelect:a,onSelectAll:r,onLeadClick:s,onStatusUpdate:l}){let n=e=>{switch(e){case"new":return"bg-blue-100 text-blue-800";case"qualified":return"bg-green-100 text-green-800";case"booked":return"bg-purple-100 text-purple-800";case"completed":return"bg-emerald-100 text-emerald-800";case"lost":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},i=e=>{switch(e){case"buy":return"\uD83C\uDFE0";case"rent":return"\uD83D\uDD11";case"browse":return"\uD83D\uDC40";case"invest":return"\uD83D\uDCB0";default:return"\uD83D\uDCAC"}},d=e.length>0&&t.length===e.length,u=t.length>0&&t.length<e.length;return(0,o.jsxs)("div",{className:"overflow-x-auto",children:[(0,o.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:(0,o.jsxs)("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left",children:o.jsx("input",{type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:d,ref:e=>{e&&(e.indeterminate=u)},onChange:e=>r(e.target.checked)})}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Intent"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Contact"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Messages"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),o.jsx("th",{className:"relative px-6 py-3",children:o.jsx("span",{className:"sr-only",children:"Actions"})})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,o.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>s(e),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("input",{type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:t.includes(e.id),onChange:t=>{t.stopPropagation(),a(e.id,t.target.checked)}})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsxs)("div",{className:"flex items-center",children:[o.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-sm font-medium text-primary-700",children:e.fullName.charAt(0)})}),(0,o.jsxs)("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.fullName}),o.jsx("div",{className:"text-sm text-gray-500",children:e.phoneNumber})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:(0,b.Z)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",n(e.status)),children:e.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsxs)("div",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:i(e.intent)}),o.jsx("span",{className:"text-sm text-gray-900 capitalize",children:e.intent||"Unknown"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.budget||"-"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.locationPreference||"-"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,m.WU)(new Date(e.lastInteraction),"MMM d, h:mm a")}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[o.jsx(h.Z,{className:"h-4 w-4 mr-1 text-gray-400"}),e.messagesCount]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.source}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:e=>{e.stopPropagation()},className:"text-primary-600 hover:text-primary-900",title:"Start conversation",children:o.jsx(h.Z,{className:"h-4 w-4"})}),o.jsx("button",{onClick:e=>{e.stopPropagation()},className:"text-green-600 hover:text-green-900",title:"Call lead",children:o.jsx(f.Z,{className:"h-4 w-4"})}),o.jsx("button",{onClick:e=>{e.stopPropagation()},className:"text-purple-600 hover:text-purple-900",title:"Schedule appointment",children:o.jsx(g.Z,{className:"h-4 w-4"})}),(0,o.jsxs)(x.v2,{as:"div",className:"relative",children:[o.jsx(x.v2.Button,{onClick:e=>e.stopPropagation(),className:"text-gray-400 hover:text-gray-600",children:o.jsx(v.Z,{className:"h-4 w-4"})}),o.jsx(p.u,{as:c.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,o.jsxs)(x.v2.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-lg bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[o.jsx(x.v2.Item,{children:({active:t})=>o.jsx("button",{onClick:t=>{t.stopPropagation(),l(e.id,"qualified")},className:(0,b.Z)(t?"bg-gray-100":"","block w-full px-4 py-2 text-left text-sm text-gray-700"),children:"Mark as Qualified"})}),o.jsx(x.v2.Item,{children:({active:t})=>o.jsx("button",{onClick:t=>{t.stopPropagation(),l(e.id,"booked")},className:(0,b.Z)(t?"bg-gray-100":"","block w-full px-4 py-2 text-left text-sm text-gray-700"),children:"Mark as Booked"})}),o.jsx(x.v2.Item,{children:({active:t})=>o.jsx("button",{onClick:t=>{t.stopPropagation(),l(e.id,"lost")},className:(0,b.Z)(t?"bg-gray-100":"","block w-full px-4 py-2 text-left text-sm text-red-700"),children:"Mark as Lost"})}),o.jsx(x.v2.Item,{children:({active:e})=>o.jsx("button",{onClick:e=>{e.stopPropagation()},className:(0,b.Z)(e?"bg-gray-100":"","block w-full px-4 py-2 text-left text-sm text-gray-700"),children:"Edit Lead"})})]})})]})]})})]},e.id))})]}),0===e.length&&o.jsx("div",{className:"text-center py-12",children:(0,o.jsxs)("div",{className:"text-gray-500",children:[o.jsx(h.Z,{className:"h-12 w-12 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No leads found"}),o.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})]})}function j({statusFilter:e,onStatusFilterChange:t,intentFilter:a,onIntentFilterChange:r,sourceFilter:s,onSourceFilterChange:l,dateRange:n,onDateRangeChange:i}){let c=[{value:"all",label:"All Status"},{value:"new",label:"New"},{value:"qualified",label:"Qualified"},{value:"booked",label:"Booked"},{value:"completed",label:"Completed"},{value:"lost",label:"Lost"}],d=[{value:"all",label:"All Intent"},{value:"buy",label:"Buy"},{value:"rent",label:"Rent"},{value:"browse",label:"Browse"},{value:"invest",label:"Invest"}],u=[{value:"all",label:"All Sources"},{value:"Facebook Lead Ad",label:"Facebook Lead Ad"},{value:"WhatsApp Direct",label:"WhatsApp Direct"},{value:"Property Portal",label:"Property Portal"},{value:"Referral",label:"Referral"},{value:"Website",label:"Website"}],m=[{value:"all",label:"All Time"},{value:"24h",label:"Last 24 Hours"},{value:"7d",label:"Last 7 Days"},{value:"30d",label:"Last 30 Days"}];return(0,o.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,o.jsxs)("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsx("select",{value:e,onChange:e=>t(e.target.value),className:"input-field",children:c.map(e=>o.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,o.jsxs)("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Intent"}),o.jsx("select",{value:a,onChange:e=>r(e.target.value),className:"input-field",children:d.map(e=>o.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,o.jsxs)("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source"}),o.jsx("select",{value:s,onChange:e=>l(e.target.value),className:"input-field",children:u.map(e=>o.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,o.jsxs)("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),o.jsx("select",{value:n,onChange:e=>i(e.target.value),className:"input-field",children:m.map(e=>o.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),(0,o.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:["all"!==e&&(0,o.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Status: ",c.find(t=>t.value===e)?.label,o.jsx("button",{onClick:()=>t("all"),className:"ml-2 text-blue-600 hover:text-blue-800",children:"\xd7"})]}),"all"!==a&&(0,o.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Intent: ",d.find(e=>e.value===a)?.label,o.jsx("button",{onClick:()=>r("all"),className:"ml-2 text-green-600 hover:text-green-800",children:"\xd7"})]}),"all"!==s&&(0,o.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Source: ",u.find(e=>e.value===s)?.label,o.jsx("button",{onClick:()=>l("all"),className:"ml-2 text-purple-600 hover:text-purple-800",children:"\xd7"})]}),"all"!==n&&(0,o.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:["Date: ",m.find(e=>e.value===n)?.label,o.jsx("button",{onClick:()=>i("all"),className:"ml-2 text-orange-600 hover:text-orange-800",children:"\xd7"})]}),("all"!==e||"all"!==a||"all"!==s||"all"!==n)&&o.jsx("button",{onClick:()=>{t("all"),r("all"),l("all"),i("all")},className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"Clear all filters"})]})]})}var N=a(80847),w=a(79611),k=a(47630),C=a(15189),E=a(87106),L=a(62146),F=a(57450),P=a(64522),T=a(72418),Z=a(38719),M=((r=M||{})[r.None=1]="None",r[r.Focusable=2]="Focusable",r[r.Hidden=4]="Hidden",r);let S=(0,Z.yV)(function(e,t){var a;let{features:r=1,...s}=e,l={ref:t,"aria-hidden":(2&r)==2||(null!=(a=s["aria-hidden"])?a:void 0),hidden:(4&r)==4||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&r)==4&&(2&r)!=2&&{display:"none"}}};return(0,Z.L6)()({ourProps:l,theirProps:s,slot:{},defaultTag:"span",name:"Hidden"})});var D=a(48384),A=a(41844);let R=(0,c.createContext)(null);function I({children:e,node:t}){let[a,r]=(0,c.useState)(null),s=O(null!=t?t:a);return c.createElement(R.Provider,{value:s},e,null===s&&c.createElement(S,{features:M.Hidden,ref:e=>{var t,a;if(e){for(let s of null!=(a=null==(t=(0,A.r)(e))?void 0:t.querySelectorAll("html > *, body > *"))?a:[])if(s!==document.body&&s!==document.head&&D.kK(s)&&null!=s&&s.contains(e)){r(s);break}}}}))}function O(e=null){var t;return null!=(t=(0,c.useContext)(R))?t:e}var B=a(84378),q=a(78894),W=a(38151);let H=(0,c.createContext)(()=>{});function V({value:e,children:t}){return c.createElement(H.Provider,{value:e},t)}var U=a(1485),z=a(18145),_=a(71342),$=a(15050),K=a(72613),Y=a(72198),G=a(4093),Q=a(36918),J=a(18764),X=a(94632),ee=((s=ee||{})[s.Forwards=0]="Forwards",s[s.Backwards=1]="Backwards",s);function et(e,t){(0,c.useRef)([]),(0,C.z)(e)}var ea=a(66711);let er=[];var es=a(79453);function el(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let a of e.current)D.kK(a.current)&&t.add(a.current);return t}var en=((l=en||{})[l.None=0]="None",l[l.InitialFocus=1]="InitialFocus",l[l.TabLock=2]="TabLock",l[l.FocusLock=4]="FocusLock",l[l.RestoreFocus=8]="RestoreFocus",l[l.AutoFocus=16]="AutoFocus",l);let ei=Object.assign((0,Z.yV)(function(e,t){let a,r=(0,c.useRef)(null),s=(0,W.T)(r,t),{initialFocus:l,initialFocusFallback:n,containers:i,features:o=15,...d}=e;(0,q.H)()||(o=0);let u=(0,T.i)(r);(function(e,{ownerDocument:t}){let a=!!(8&e),r=function(e=!0){let t=(0,c.useRef)(er.slice());return et(([e],[a])=>{!0===a&&!1===e&&(0,es.Y)(()=>{t.current.splice(0)}),!1===a&&!0===e&&(t.current=er.slice())},[e,er,t]),(0,C.z)(()=>{var e;return null!=(e=t.current.find(e=>null!=e&&e.isConnected))?e:null})}(a);et(()=>{a||(null==t?void 0:t.activeElement)===(null==t?void 0:t.body)&&(0,ea.C5)(r())},[a]),(0,J.L)(()=>{a&&(0,ea.C5)(r())})})(o,{ownerDocument:u});let m=function(e,{ownerDocument:t,container:a,initialFocus:r,initialFocusFallback:s}){let l=(0,c.useRef)(null),n=(0,k.g)(!!(1&e),"focus-trap#initial-focus"),i=(0,Q.t)();return et(()=>{if(0===e)return;if(!n){null!=s&&s.current&&(0,ea.C5)(s.current);return}let o=a.current;o&&(0,es.Y)(()=>{if(!i.current)return;let a=null==t?void 0:t.activeElement;if(null!=r&&r.current){if((null==r?void 0:r.current)===a){l.current=a;return}}else if(o.contains(a)){l.current=a;return}if(null!=r&&r.current)(0,ea.C5)(r.current);else{if(16&e){if((0,ea.jA)(o,ea.TO.First|ea.TO.AutoFocus)!==ea.fE.Error)return}else if((0,ea.jA)(o,ea.TO.First)!==ea.fE.Error)return;if(null!=s&&s.current&&((0,ea.C5)(s.current),(null==t?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=null==t?void 0:t.activeElement})},[s,n,e]),l}(o,{ownerDocument:u,container:r,initialFocus:l,initialFocusFallback:n});(function(e,{ownerDocument:t,container:a,containers:r,previousActiveElement:s}){var l;let n=(0,Q.t)(),i=!!(4&e);null==t||t.defaultView,l=e=>{if(!i||!n.current)return;let t=el(r);D.Re(a.current)&&t.add(a.current);let l=s.current;if(!l)return;let o=e.target;D.Re(o)?eo(t,o)?(s.current=o,(0,ea.C5)(o)):(e.preventDefault(),e.stopPropagation(),(0,ea.C5)(l)):(0,ea.C5)(s.current)},(0,w.E)(l)})(o,{ownerDocument:u,container:r,containers:i,previousActiveElement:m});let x=(a=(0,c.useRef)(0),(0,X.s)(!0,"keydown",e=>{"Tab"===e.key&&(a.current=e.shiftKey?1:0)},!0),a),p=(0,C.z)(e=>{if(!D.Re(r.current))return;let t=r.current;(0,K.E)(x.current,{[ee.Forwards]:()=>{(0,ea.jA)(t,ea.TO.First,{skipElements:[e.relatedTarget,n]})},[ee.Backwards]:()=>{(0,ea.jA)(t,ea.TO.Last,{skipElements:[e.relatedTarget,n]})}})}),h=(0,k.g)(!!(2&o),"focus-trap#tab-lock"),f=(0,G.G)(),g=(0,c.useRef)(!1),v=(0,Z.L6)();return c.createElement(c.Fragment,null,h&&c.createElement(S,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:M.Focusable}),v({ourProps:{ref:s,onKeyDown(e){"Tab"==e.key&&(g.current=!0,f.requestAnimationFrame(()=>{g.current=!1}))},onBlur(e){if(!(4&o))return;let t=el(i);D.Re(r.current)&&t.add(r.current);let a=e.relatedTarget;D.sP(a)&&"true"!==a.dataset.headlessuiFocusGuard&&(eo(t,a)||(g.current?(0,ea.jA)(r.current,(0,K.E)(x.current,{[ee.Forwards]:()=>ea.TO.Next,[ee.Backwards]:()=>ea.TO.Previous})|ea.TO.WrapAround,{relativeTo:e.target}):D.sP(e.target)&&(0,ea.C5)(e.target)))}},theirProps:d,defaultTag:"div",name:"FocusTrap"}),h&&c.createElement(S,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:M.Focusable}))}),{features:en});function eo(e,t){for(let a of e)if(a.contains(t))return!0;return!1}var ec=a(95816),ed=((n=ed||{})[n.Open=0]="Open",n[n.Closed=1]="Closed",n),eu=((i=eu||{})[i.SetTitleId=0]="SetTitleId",i);let em={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},ex=(0,c.createContext)(null);function ep(e){let t=(0,c.useContext)(ex);if(null===t){let t=Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ep),t}return t}function eh(e,t){return(0,K.E)(t.type,em,e,t)}ex.displayName="DialogContext";let ef=(0,Z.yV)(function(e,t){let a=(0,c.useId)(),{id:r=`headlessui-dialog-${a}`,open:s,onClose:l,initialFocus:n,role:i="dialog",autoFocus:o=!0,__demoMode:d=!1,unmount:u=!1,...m}=e,x=(0,c.useRef)(!1);i="dialog"===i||"alertdialog"===i?i:(x.current||(x.current=!0,console.warn(`Invalid role [${i}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog");let p=(0,U.oJ)();void 0===s&&null!==p&&(s=(p&U.ZM.Open)===U.ZM.Open);let h=(0,c.useRef)(null),f=(0,W.T)(h,t),g=(0,T.i)(h),v=s?0:1,[b,y]=(0,c.useReducer)(eh,{titleId:null,descriptionId:null,panelRef:(0,c.createRef)()}),j=(0,C.z)(()=>l(!1)),M=(0,C.z)(e=>y({type:0,id:e})),S=!!(0,q.H)()&&0===v,[A,R]=(0,ec.kF)(),I=O(),{resolveContainers:H}=function({defaultContainers:e=[],portals:t,mainTreeNode:a}={}){let r=(0,T.i)(a),s=(0,C.z)(()=>{var s,l;let n=[];for(let t of e)null!==t&&(D.kK(t)?n.push(t):"current"in t&&D.kK(t.current)&&n.push(t.current));if(null!=t&&t.current)for(let e of t.current)n.push(e);for(let e of null!=(s=null==r?void 0:r.querySelectorAll("html > *, body > *"))?s:[])e!==document.body&&e!==document.head&&D.kK(e)&&"headlessui-portal-root"!==e.id&&(a&&(e.contains(a)||e.contains(null==(l=null==a?void 0:a.getRootNode())?void 0:l.host))||n.some(t=>e.contains(t))||n.push(e));return n});return{resolveContainers:s,contains:(0,C.z)(e=>s().some(t=>t.contains(e)))}}({mainTreeNode:I,portals:A,defaultContainers:[{get current(){var K;return null!=(K=b.panelRef.current)?K:h.current}}]}),G=null!==p&&(p&U.ZM.Closing)===U.ZM.Closing;(0,E.s)(!d&&!G&&S,{allowed:(0,C.z)(()=>{var e,t;return[null!=(t=null==(e=h.current)?void 0:e.closest("[data-headlessui-portal]"))?t:null]}),disallowed:(0,C.z)(()=>{var e;return[null!=(e=null==I?void 0:I.closest("body > *:not(#headlessui-portal-root)"))?e:null]})});let Q=_.n.get(null);(0,L.e)(()=>{if(S)return Q.actions.push(r),()=>Q.actions.pop(r)},[Q,r,S]);let J=(0,$.M)(Q,(0,c.useCallback)(e=>Q.selectors.isTop(e,r),[Q,r]));(0,P.O)(J,H,e=>{e.preventDefault(),j()}),function(e,t="undefined"!=typeof document?document.defaultView:null,a){var r;let s=(0,k.g)(e,"escape");r=e=>{s&&(e.defaultPrevented||e.key===N.R.Escape&&a(e))},(0,w.E)(r)}(J,null==g?void 0:g.defaultView,e=>{e.preventDefault(),e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),j()}),(0,B.P)(!d&&!G&&S,g,H),(0,F.m)(S,h,j);let[X,ee]=(0,Y.fw)(),et=(0,c.useMemo)(()=>[{dialogState:v,close:j,setTitleId:M,unmount:u},b],[v,b,j,M,u]),ea=(0,c.useMemo)(()=>({open:0===v}),[v]),er={ref:f,id:r,role:i,tabIndex:-1,"aria-modal":d?void 0:0===v||void 0,"aria-labelledby":b.titleId,"aria-describedby":X,unmount:u},es=!function(){var e;let[t]=(0,c.useState)(()=>null),[a,r]=(0,c.useState)(null!=(e=null==t?void 0:t.matches)&&e);return(0,L.e)(()=>{if(t)return t.addEventListener("change",e),()=>t.removeEventListener("change",e);function e(e){r(e.matches)}},[t]),a}(),el=en.None;S&&!d&&(el|=en.RestoreFocus,el|=en.TabLock,o&&(el|=en.AutoFocus),es&&(el|=en.InitialFocus));let eo=(0,Z.L6)();return c.createElement(U.uu,null,c.createElement(z.O,{force:!0},c.createElement(ec.h_,null,c.createElement(ex.Provider,{value:et},c.createElement(ec.wA,{target:h},c.createElement(z.O,{force:!1},c.createElement(ee,{slot:ea},c.createElement(R,null,c.createElement(ei,{initialFocus:n,initialFocusFallback:h,containers:H,features:el},c.createElement(V,{value:j},eo({ourProps:er,theirProps:m,slot:ea,defaultTag:eg,features:ev,visible:0===v,name:"Dialog"})))))))))))}),eg="div",ev=Z.VN.RenderStrategy|Z.VN.Static,eb=Object.assign((0,Z.yV)(function(e,t){let{transition:a=!1,open:r,...s}=e,l=(0,U.oJ)(),n=e.hasOwnProperty("open")||null!==l,i=e.hasOwnProperty("onClose");if(!n&&!i)throw Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!n)throw Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!i)throw Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&"boolean"!=typeof e.open)throw Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if("function"!=typeof e.onClose)throw Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(void 0!==r||a)&&!s.static?c.createElement(I,null,c.createElement(p.u,{show:r,transition:a,unmount:s.unmount},c.createElement(ef,{ref:t,...s}))):c.createElement(I,null,c.createElement(ef,{ref:t,open:r,...s}))}),{Panel:(0,Z.yV)(function(e,t){let a=(0,c.useId)(),{id:r=`headlessui-dialog-panel-${a}`,transition:s=!1,...l}=e,[{dialogState:n,unmount:i},o]=ep("Dialog.Panel"),d=(0,W.T)(t,o.panelRef),u=(0,c.useMemo)(()=>({open:0===n}),[n]),m=(0,C.z)(e=>{e.stopPropagation()}),x=s?p.x:c.Fragment,h=(0,Z.L6)();return c.createElement(x,{...s?{unmount:i}:{}},h({ourProps:{ref:d,id:r,onClick:m},theirProps:l,slot:u,defaultTag:"div",name:"Dialog.Panel"}))}),Title:((0,Z.yV)(function(e,t){let{transition:a=!1,...r}=e,[{dialogState:s,unmount:l}]=ep("Dialog.Backdrop"),n=(0,c.useMemo)(()=>({open:0===s}),[s]),i=a?p.x:c.Fragment,o=(0,Z.L6)();return c.createElement(i,{...a?{unmount:l}:{}},o({ourProps:{ref:t,"aria-hidden":!0},theirProps:r,slot:n,defaultTag:"div",name:"Dialog.Backdrop"}))}),(0,Z.yV)(function(e,t){let a=(0,c.useId)(),{id:r=`headlessui-dialog-title-${a}`,...s}=e,[{dialogState:l,setTitleId:n}]=ep("Dialog.Title"),i=(0,W.T)(t),o=(0,c.useMemo)(()=>({open:0===l}),[l]);return(0,Z.L6)()({ourProps:{ref:i,id:r},theirProps:s,slot:o,defaultTag:"h2",name:"Dialog.Title"})})),Description:Y.dk});var ey=a(72591);let ej=c.forwardRef(function({title:e,titleId:t,...a},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))});var eN=a(14526);let ew=c.forwardRef(function({title:e,titleId:t,...a},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))});var ek=a(86421);function eC({lead:e,onClose:t,onStatusUpdate:a}){let[r,s]=(0,c.useState)("overview");return o.jsx(p.u,{appear:!0,show:!0,as:c.Fragment,children:(0,o.jsxs)(eb,{as:"div",className:"relative z-50",onClose:t,children:[o.jsx(p.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),o.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:o.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:o.jsx(p.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,o.jsxs)(eb.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-xl bg-white text-left align-middle shadow-xl transition-all",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"h-12 w-12 bg-primary-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-lg font-medium text-primary-700",children:e.fullName.charAt(0)})}),(0,o.jsxs)("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e.fullName}),o.jsx("p",{className:"text-sm text-gray-500",children:e.phoneNumber})]})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:o.jsx(ey.Z,{className:"h-6 w-6"})})]}),o.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:(0,b.Z)("inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",(e=>{switch(e){case"new":return"bg-blue-100 text-blue-800";case"qualified":return"bg-green-100 text-green-800";case"booked":return"bg-purple-100 text-purple-800";case"completed":return"bg-emerald-100 text-emerald-800";case"lost":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(e.status)),children:e.status}),o.jsx("select",{value:e.status,onChange:e=>a(e.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[{value:"new",label:"New"},{value:"qualified",label:"Qualified"},{value:"booked",label:"Booked"},{value:"completed",label:"Completed"},{value:"lost",label:"Lost"}].map(e=>o.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsxs)("button",{className:"btn-secondary flex items-center",children:[o.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"Message"]}),(0,o.jsxs)("button",{className:"btn-secondary flex items-center",children:[o.jsx(f.Z,{className:"h-4 w-4 mr-2"}),"Call"]}),(0,o.jsxs)("button",{className:"btn-primary flex items-center",children:[o.jsx(g.Z,{className:"h-4 w-4 mr-2"}),"Schedule"]})]})]})}),o.jsx("div",{className:"border-b border-gray-200",children:o.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",name:"Overview"},{id:"activity",name:"Activity"},{id:"notes",name:"Notes"}].map(e=>o.jsx("button",{onClick:()=>s(e.id),className:(0,b.Z)("py-4 px-1 border-b-2 font-medium text-sm",r===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.name},e.id))})}),(0,o.jsxs)("div",{className:"p-6",children:["overview"===r&&(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[o.jsx(ej,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,o.jsxs)("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Intent"}),o.jsx("p",{className:"text-sm text-gray-600 capitalize",children:e.intent||"Not specified"})]})]}),(0,o.jsxs)("div",{className:"flex items-center",children:[o.jsx(eN.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,o.jsxs)("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Budget"}),o.jsx("p",{className:"text-sm text-gray-600",children:e.budget||"Not specified"})]})]}),(0,o.jsxs)("div",{className:"flex items-center",children:[o.jsx(ew,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,o.jsxs)("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Location Preference"}),o.jsx("p",{className:"text-sm text-gray-600",children:e.locationPreference||"Not specified"})]})]})]}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[o.jsx(ek.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,o.jsxs)("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Timeline"}),o.jsx("p",{className:"text-sm text-gray-600",children:e.timeline||"Not specified"})]})]}),(0,o.jsxs)("div",{className:"flex items-center",children:[o.jsx(h.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,o.jsxs)("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Messages"}),(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:[e.messagesCount," messages"]})]})]}),(0,o.jsxs)("div",{className:"flex items-center",children:[o.jsx(ej,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,o.jsxs)("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Source"}),o.jsx("p",{className:"text-sm text-gray-600",children:e.source})]})]})]})]}),e.propertyType&&(0,o.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Property Requirements"}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:["Looking for: ",o.jsx("span",{className:"font-medium",children:e.propertyType})]})})]}),(0,o.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Timeline"}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Created"}),o.jsx("span",{className:"text-gray-900",children:(0,m.WU)(new Date(e.createdAt),"MMM d, yyyy h:mm a")})]}),(0,o.jsxs)("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Last Interaction"}),o.jsx("span",{className:"text-gray-900",children:(0,m.WU)(new Date(e.lastInteraction),"MMM d, yyyy h:mm a")})]})]})]})]}),"activity"===r&&(0,o.jsxs)("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"}),(0,o.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(h.Z,{className:"h-8 w-8 mx-auto mb-2"}),o.jsx("p",{children:"Activity timeline coming soon"})]})]}),"notes"===r&&(0,o.jsxs)("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notes"}),o.jsx("textarea",{className:"w-full h-32 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Add notes about this lead..."}),o.jsx("button",{className:"btn-primary",children:"Save Notes"})]})]})]})})})})]})})}var eE=a(56386);let eL=c.forwardRef(function({title:e,titleId:t,...a},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}),eF=c.forwardRef(function({title:e,titleId:t,...a},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});function eP({selectedCount:e,onStatusUpdate:t,onDelete:a,onClearSelection:r}){return o.jsx("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-4",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsxs)("span",{className:"text-sm font-medium text-primary-900",children:[e," lead",1!==e?"s":""," selected"]}),o.jsx("button",{onClick:r,className:"ml-2 text-primary-600 hover:text-primary-800",children:o.jsx(ey.Z,{className:"h-4 w-4"})})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsxs)(x.v2,{as:"div",className:"relative",children:[(0,o.jsxs)(x.v2.Button,{className:"btn-secondary flex items-center",children:[o.jsx(eE.Z,{className:"h-4 w-4 mr-2"}),"Update Status",o.jsx(eL,{className:"h-4 w-4 ml-2"})]}),o.jsx(p.u,{as:c.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:o.jsx(x.v2.Items,{className:"absolute left-0 z-10 mt-2 w-48 origin-top-left rounded-lg bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[{value:"new",label:"Mark as New",color:"text-blue-600"},{value:"qualified",label:"Mark as Qualified",color:"text-green-600"},{value:"booked",label:"Mark as Booked",color:"text-purple-600"},{value:"completed",label:"Mark as Completed",color:"text-emerald-600"},{value:"lost",label:"Mark as Lost",color:"text-red-600"}].map(e=>o.jsx(x.v2.Item,{children:({active:a})=>o.jsx("button",{onClick:()=>t(e.value),className:(0,b.Z)(a?"bg-gray-100":"","block w-full px-4 py-2 text-left text-sm",e.color),children:e.label})},e.value))})})]}),(0,o.jsxs)("button",{onClick:a,className:"btn-secondary text-red-600 hover:text-red-800 hover:bg-red-50 flex items-center",children:[o.jsx(eF,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]}),o.jsx("div",{className:"text-xs text-primary-600",children:"Bulk actions will be applied to all selected leads"})]})})}var eT=a(42553),eZ=a(84625),eM=a(81367),eS=a(2560);let eD=[{id:"1",phoneNumber:"+65 9123 4567",fullName:"Sarah Chen",status:"qualified",intent:"buy",budget:"$800K - $1.2M",locationPreference:"Marina Bay",propertyType:"3-bedroom condo",timeline:"Within 3 months",lastInteraction:"2024-01-15T10:30:00Z",messagesCount:12,createdAt:"2024-01-10T09:00:00Z",source:"Facebook Lead Ad"},{id:"2",phoneNumber:"+65 9234 5678",fullName:"Michael Tan",status:"new",intent:"browse",budget:"$600K - $900K",locationPreference:"Orchard",propertyType:"2-bedroom condo",timeline:"Within 6 months",lastInteraction:"2024-01-15T09:45:00Z",messagesCount:5,createdAt:"2024-01-14T14:30:00Z",source:"WhatsApp Direct"},{id:"3",phoneNumber:"+65 9345 6789",fullName:"Jennifer Lim",status:"booked",intent:"buy",budget:"$1M - $1.5M",locationPreference:"Sentosa Cove",propertyType:"4-bedroom condo",timeline:"Within 2 months",lastInteraction:"2024-01-15T08:15:00Z",messagesCount:18,createdAt:"2024-01-08T11:20:00Z",source:"Property Portal"}];function eA(){let{user:e}=(0,d.a)(),[t,a]=(0,c.useState)(eD),[r,s]=(0,c.useState)(eD),[l,n]=(0,c.useState)([]),[i,m]=(0,c.useState)(null),[x,p]=(0,c.useState)(!1),[h,f]=(0,c.useState)(!1),[g,v]=(0,c.useState)(""),[b,N]=(0,c.useState)("all"),[w,k]=(0,c.useState)("all"),[C,E]=(0,c.useState)("all"),[L,F]=(0,c.useState)("all"),[P,T]=(0,c.useState)(1),[Z]=(0,c.useState)(20),M=(e,t)=>{a(a=>a.map(a=>e.includes(a.id)?{...a,status:t}:a)),n([])},S=e=>{a(t=>t.filter(t=>!e.includes(t.id))),n([])},D=Math.ceil(r.length/Z),A=(P-1)*Z,R=r.slice(A,A+Z),I={total:t.length,new:t.filter(e=>"new"===e.status).length,qualified:t.filter(e=>"qualified"===e.status).length,booked:t.filter(e=>"booked"===e.status).length,completed:t.filter(e=>"completed"===e.status).length,lost:t.filter(e=>"lost"===e.status).length};return(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lead Management"}),o.jsx("p",{className:"text-gray-600",children:"Manage and track your leads through the sales pipeline"})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsxs)("button",{onClick:()=>{let e=new Blob([[["Name","Phone","Status","Intent","Budget","Location","Created"],...r.map(e=>[e.fullName,e.phoneNumber,e.status,e.intent||"",e.budget||"",e.locationPreference||"",new Date(e.createdAt).toLocaleDateString()])].map(e=>e.join(",")).join("\n")],{type:"text/csv"}),t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=`leads-${new Date().toISOString().split("T")[0]}.csv`,a.click(),window.URL.revokeObjectURL(t)},className:"btn-secondary flex items-center",children:[o.jsx(eT.Z,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,o.jsxs)("button",{className:"btn-primary flex items-center",children:[o.jsx(eZ.Z,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:Object.entries(I).map(([e,t])=>(0,o.jsxs)("div",{className:"metric-card",children:[o.jsx("div",{className:"metric-value",children:t}),o.jsx("div",{className:"metric-label capitalize",children:e})]},e))}),(0,o.jsxs)("div",{className:"card",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"flex-1 max-w-md",children:(0,o.jsxs)("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(eM.Z,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"text",className:"input-field pl-10",placeholder:"Search leads...",value:g,onChange:e=>v(e.target.value)})]})}),o.jsx("div",{className:"flex items-center space-x-3",children:(0,o.jsxs)("button",{onClick:()=>f(!h),className:"btn-secondary flex items-center",children:[o.jsx(eS.Z,{className:"h-4 w-4 mr-2"}),"Filters"]})})]}),h&&o.jsx(j,{statusFilter:b,onStatusFilterChange:N,intentFilter:w,onIntentFilterChange:k,sourceFilter:C,onSourceFilterChange:E,dateRange:L,onDateRangeChange:F})]}),l.length>0&&o.jsx(eP,{selectedCount:l.length,onStatusUpdate:e=>M(l,e),onDelete:()=>S(l),onClearSelection:()=>n([])}),(0,o.jsxs)("div",{className:"card p-0",children:[x?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(u.TK,{size:"lg"})}):o.jsx(y,{leads:R,selectedLeads:l,onLeadSelect:(e,t)=>{t?n(t=>[...t,e]):n(t=>t.filter(t=>t!==e))},onSelectAll:e=>{e?n(r.map(e=>e.id)):n([])},onLeadClick:m,onStatusUpdate:(e,t)=>M([e],t)}),D>1&&o.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",A+1," to ",Math.min(A+Z,r.length)," of ",r.length," results"]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>T(e=>Math.max(e-1,1)),disabled:1===P,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,o.jsxs)("span",{className:"text-sm text-gray-700",children:["Page ",P," of ",D]}),o.jsx("button",{onClick:()=>T(e=>Math.min(e+1,D)),disabled:P===D,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]}),i&&o.jsx(eC,{lead:i,onClose:()=>m(null),onStatusUpdate:e=>{M([i.id],e),m(null)}})]})}},60638:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`C:\Users\Imperial\Desktop\realestate-bot-backend\frontend\app\agent\leads\page.tsx#default`)},56386:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(17577);let s=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))})},60531:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(17577);let s=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))})},86421:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(17577);let s=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},14526:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(17577);let s=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},12607:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(17577);let s=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}))})},2560:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(17577);let s=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))})},56818:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(17577);let s=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))})},84625:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(17577);let s=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))})}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[702,279,466,119,295],()=>a(42403));module.exports=r})();