exports.id=295,exports.ids=[295],exports.modules={60981:(e,s,t)=>{Promise.resolve().then(t.bind(t,63314))},63314:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>m});var r=t(10326),i=t(57963),l=t(35047);t(17577);var n=t(14883),c=t(58798),d=t(62896),o=e([c]);function m({children:e}){let{user:s,loading:t,isAuthenticated:a,isAgent:o}=(0,i.a)();return((0,l.useRouter)(),t)?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx(d.TK,{size:"lg"})}):a&&o?(0,r.jsxs)("div",{className:"h-screen flex bg-gray-50",children:[r.jsx(n.M,{}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx(c.i,{}),r.jsx("main",{className:"flex-1 overflow-y-auto",children:r.jsx("div",{className:"p-6",children:e})})]})]}):null}c=(o.then?(await o)():o)[0],a()}catch(e){a(e)}})},58798:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(s,{i:()=>N});var r=t(10326),i=t(17577),l=t(57963),n=t(17610),c=t(32432),d=t(81367),o=t(59675),m=t(83401),x=t(19381),h=t(4006),g=t(75231),u=t(49634),f=t(50133),p=t(69959),j=t(41135),v=t(18962),y=e([n,c,v]);function N(){let{user:e,logout:s}=(0,l.a)(),{connected:t}=(0,n.s)(),{notifications:a,unreadCount:y,markAsRead:N}=(0,c.k)(),[b,w]=(0,i.useState)(""),[Z,k]=(0,i.useState)(!1);return r.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex-1 max-w-lg",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("Search:",b)},className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(d.Z,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 focus:bg-white sm:text-sm",placeholder:"Search leads, conversations...",value:b,onChange:e=>w(e.target.value)})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx(v.Us,{size:"sm"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>k(!Z),className:"relative p-2 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 rounded-lg",children:[r.jsx(o.Z,{className:"h-6 w-6"}),y>0&&r.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:y>99?"99+":y})]}),Z&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notifications"})}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.length>0?a.slice(0,10).map(e=>r.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${e.read?"":"bg-blue-50"}`,onClick:()=>N(e.id),children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(()=>{switch(e.type){case"success":return r.jsx(m.Z,{className:"h-5 w-5 text-green-500"});case"error":return r.jsx(x.Z,{className:"h-5 w-5 text-red-500"});case"warning":return r.jsx(x.Z,{className:"h-5 w-5 text-yellow-500"});default:return r.jsx(h.Z,{className:"h-5 w-5 text-blue-500"})}})(),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.title}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:e.timestamp.toLocaleTimeString()})]}),!e.read&&r.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"})]})},e.id)):r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"})})]})]}),(0,r.jsxs)(f.v2,{as:"div",className:"relative",children:[(0,r.jsxs)(f.v2.Button,{className:"flex items-center text-sm rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:[r.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-medium text-primary-700",children:e?.full_name?.charAt(0)||"A"})}),(0,r.jsxs)("div",{className:"ml-3 text-left",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:e?.full_name||"Agent"}),r.jsx("p",{className:"text-xs text-gray-500",children:e?.email})]})]}),r.jsx(p.u,{as:i.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,r.jsxs)(f.v2.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-lg bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[r.jsx(f.v2.Item,{children:({active:e})=>(0,r.jsxs)("a",{href:"/agent/settings",className:(0,j.Z)(e?"bg-gray-100":"","flex items-center px-4 py-2 text-sm text-gray-700"),children:[r.jsx(g.Z,{className:"h-4 w-4 mr-3"}),"Settings"]})}),r.jsx(f.v2.Item,{children:({active:e})=>(0,r.jsxs)("button",{onClick:s,className:(0,j.Z)(e?"bg-gray-100":"","flex items-center w-full px-4 py-2 text-sm text-gray-700"),children:[r.jsx(u.Z,{className:"h-4 w-4 mr-3"}),"Sign out"]})})]})})]})]})]})})}[n,c,v]=y.then?(await y)():y,a()}catch(e){a(e)}})},14883:(e,s,t)=>{"use strict";t.d(s,{M:()=>Z});var a=t(10326),r=t(17577),i=t(90434),l=t(35047),n=t(57963),c=t(60982),d=t(7710),o=t(8566),m=t(16041),x=t(80575),h=t(98736),g=t(75231),u=t(43977),f=t(58276),p=t(10233),j=t(99323),v=t(62171),y=t(8114),N=t(28369),b=t(41135);let w=[{name:"Dashboard",href:"/agent/dashboard",icon:c.Z,iconActive:u.Z},{name:"Conversations",href:"/agent/conversations",icon:d.Z,iconActive:f.Z,badge:3},{name:"Leads",href:"/agent/leads",icon:o.Z,iconActive:p.Z},{name:"Analytics",href:"/agent/analytics",icon:m.Z,iconActive:j.Z},{name:"Testing",href:"/agent/testing",icon:x.Z,iconActive:v.Z},{name:"Integrations",href:"/agent/integrations",icon:h.Z,iconActive:y.Z},{name:"Settings",href:"/agent/settings",icon:g.Z,iconActive:N.Z}];function Z(){let e=(0,l.usePathname)(),{user:s}=(0,n.a)(),[t,c]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:(0,b.Z)("bg-white border-r border-gray-200 flex flex-col transition-all duration-300",t?"w-16":"w-64"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[!t&&(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),a.jsx("span",{className:"ml-3 text-lg font-semibold text-gray-900",children:"PropertyHub"})]}),a.jsx("button",{onClick:()=>c(!t),className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),!t&&a.jsx("div",{className:"p-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-primary-700",children:s?.full_name?.charAt(0)||"A"})}),(0,a.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s?.full_name||"Agent"}),(0,a.jsxs)("div",{className:"flex items-center mt-1",children:[a.jsx("div",{className:"status-dot status-online"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Online"})]})]})]})}),a.jsx("nav",{className:"flex-1 p-4 space-y-1",children:w.map(s=>{let r=e===s.href,l=r?s.iconActive:s.icon;return(0,a.jsxs)(i.default,{href:s.href,className:(0,b.Z)("nav-item",r?"nav-item-active":"nav-item-inactive",t?"justify-center":"justify-start"),title:t?s.name:void 0,children:[a.jsx(l,{className:"h-5 w-5 flex-shrink-0"}),!t&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"ml-3",children:s.name}),s.badge&&a.jsx("span",{className:"ml-auto bg-primary-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:s.badge})]})]},s.name)})}),!t&&a.jsx("div",{className:"p-4 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("button",{className:"w-full btn-primary text-sm py-2",children:"New Test Conversation"}),a.jsx("button",{className:"w-full btn-secondary text-sm py-2",children:"View All Leads"})]})})]})}},62896:(e,s,t)=>{"use strict";t.d(s,{TK:()=>n});var a=t(10326);t(17577);var r=t(79360),i=t(77863);let l=(0,r.j)("animate-spin",{variants:{size:{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},variant:{default:"text-primary",muted:"text-muted-foreground",destructive:"text-destructive"}},defaultVariants:{size:"md",variant:"default"}});function n({size:e,variant:s,className:t,label:r="Loading...",...n}){return(0,a.jsxs)("div",{className:(0,i.cn)("flex items-center justify-center",t),role:"status","aria-label":r,...n,children:[(0,a.jsxs)("svg",{className:(0,i.cn)(l({size:e,variant:s})),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{className:"sr-only",children:r})]})}},18962:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(s,{RW:()=>g,Us:()=>x,n$:()=>h});var r=t(10326),i=t(17610),l=t(32432),n=t(19381),c=t(83401),d=t(37740),o=t(41135),m=e([i,l]);function x({showText:e=!0,size:s="md",className:t}){let{connected:a}=(0,i.s)(),{metrics:d}=(0,l.k)(),m={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"},x=a?d.systemAlerts>0?{icon:n.Z,color:"text-yellow-500",bgColor:"bg-yellow-100",text:"Connected",description:`${d.systemAlerts} system alert${d.systemAlerts>1?"s":""}`}:{icon:c.Z,color:"text-green-500",bgColor:"bg-green-100",text:"Connected",description:"All systems operational"}:{icon:n.Z,color:"text-red-500",bgColor:"bg-red-100",text:"Disconnected",description:"Real-time features unavailable"},h=x.icon;return(0,r.jsxs)("div",{className:(0,o.Z)("flex items-center space-x-2",t),children:[r.jsx("div",{className:(0,o.Z)("flex items-center justify-center rounded-full p-1",x.bgColor),children:r.jsx(h,{className:(0,o.Z)(m[s],x.color)})}),e&&(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("span",{className:(0,o.Z)("font-medium",{sm:"text-xs",md:"text-sm",lg:"text-base"}[s],x.color),children:x.text}),x.description&&r.jsx("span",{className:(0,o.Z)("text-gray-500","text-xs"),children:x.description})]}),a&&(0,r.jsxs)("div",{className:"relative",children:[r.jsx("div",{className:(0,o.Z)("absolute rounded-full animate-ping",x.bgColor,m[s])}),r.jsx("div",{className:(0,o.Z)("relative rounded-full",x.bgColor,m[s])})]})]})}function h({className:e}){let{metrics:s,connected:t}=(0,l.k)();return t?(0,r.jsxs)("div",{className:(0,o.Z)("grid grid-cols-2 md:grid-cols-4 gap-4",e),children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:s.activeConversations}),r.jsx("div",{className:"text-sm text-gray-600",children:"Active Chats"})]}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:s.newLeads}),r.jsx("div",{className:"text-sm text-gray-600",children:"New Leads"})]}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:s.pendingAppointments}),r.jsx("div",{className:"text-sm text-gray-600",children:"Appointments"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-2xl font-semibold text-gray-900",children:[Math.round(s.apiUsage.total),"%"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"API Usage"})]})]}):(0,r.jsxs)("div",{className:(0,o.Z)("text-center py-4",e),children:[r.jsx(d.Z,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Real-time data unavailable"})]})}function g({className:e}){let{notifications:s}=(0,l.k)(),t=s.slice(0,5);return(0,r.jsxs)("div",{className:(0,o.Z)("space-y-3",e),children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Live Activity"}),t.length>0?r.jsx("div",{className:"space-y-2",children:t.map(e=>(0,r.jsxs)("div",{className:"flex items-start space-x-3 p-2 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:(0,o.Z)("flex-shrink-0 w-2 h-2 rounded-full mt-2","success"===e.type&&"bg-green-400","error"===e.type&&"bg-red-400","warning"===e.type&&"bg-yellow-400","info"===e.type&&"bg-blue-400")}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),r.jsx("p",{className:"text-xs text-gray-600 truncate",children:e.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.timestamp.toLocaleTimeString()})]})]},e.id))}):r.jsx("p",{className:"text-sm text-gray-500",children:"No recent activity"})]})}[i,l]=m.then?(await m)():m,a()}catch(e){a(e)}})},32432:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(s,{k:()=>d});var r=t(17577),i=t(17610),l=t(57963),n=t(85999),c=e([i]);function d(){let{socket:e,connected:s}=(0,i.s)(),{user:t}=(0,l.a)(),[a,c]=(0,r.useState)([]),[d,o]=(0,r.useState)({activeConversations:0,newLeads:0,pendingAppointments:0,systemAlerts:0,apiUsage:{whatsapp:0,openai:0,total:0}}),m=(0,r.useCallback)(e=>{let s={...e,id:Date.now().toString(),timestamp:new Date,read:!1};switch(c(e=>[s,...e.slice(0,49)]),e.type){case"success":n.A.success(e.title,{description:e.message});break;case"error":n.A.error(e.title,{description:e.message});break;case"warning":n.A.warning(e.title,{description:e.message});break;default:n.A.info(e.title,{description:e.message})}},[]),x=(0,r.useCallback)(e=>{c(s=>s.map(s=>s.id===e?{...s,read:!0}:s))},[]),h=(0,r.useCallback)(()=>{c(e=>e.map(e=>({...e,read:!0})))},[]),g=(0,r.useCallback)(()=>{c([])},[]),u=a.filter(e=>!e.read).length;return{notifications:a,metrics:d,unreadCount:u,addNotification:m,markAsRead:x,markAllAsRead:h,clearNotifications:g,connected:s}}i=(c.then?(await c)():c)[0],a()}catch(e){a(e)}})},56956:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Users\Imperial\Desktop\realestate-bot-backend\frontend\app\agent\layout.tsx#default`)}};