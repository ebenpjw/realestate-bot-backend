exports.id=692,exports.ids=[692],exports.modules={21204:(e,s,t)=>{Promise.resolve().then(t.bind(t,2802))},2802:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>x});var r=t(10326),i=t(57963),l=t(35047);t(17577);var n=t(24400),c=t(48768),d=t(62896),m=e([c]);function x({children:e}){let{user:s,loading:t,isAuthenticated:a,isAdmin:m}=(0,i.a)();return((0,l.useRouter)(),t)?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx(d.TK,{size:"lg"})}):a&&m?(0,r.jsxs)("div",{className:"h-screen flex bg-gray-50",children:[r.jsx(n.g,{}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx(c.P,{}),r.jsx("main",{className:"flex-1 overflow-y-auto",children:r.jsx("div",{className:"p-6",children:e})})]})]}):null}c=(m.then?(await m)():m)[0],a()}catch(e){a(e)}})},48768:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(s,{P:()=>p});var r=t(10326),i=t(17577),l=t(57963),n=t(32432),c=t(19381),d=t(83401),m=t(4006),x=t(81367),o=t(59675),h=t(75231),u=t(49634),g=t(90772),f=t(54432),j=t(18962),v=e([n,j]);function p(){let{user:e,logout:s}=(0,l.a)(),{notifications:t,unreadCount:a,markAsRead:v}=(0,n.k)(),[p,y]=(0,i.useState)(!1),N=e=>{switch(e){case"warning":return r.jsx(c.Z,{className:"h-5 w-5 text-yellow-500"});case"success":return r.jsx(d.Z,{className:"h-5 w-5 text-green-500"});case"error":return r.jsx(c.Z,{className:"h-5 w-5 text-red-500"});default:return r.jsx(m.Z,{className:"h-5 w-5 text-blue-500"})}};return r.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex-1 max-w-lg",children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(f.I,{type:"text",placeholder:"Search agents, costs, logs...",className:"pl-10 pr-4"})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx(j.Us,{size:"sm"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>y(!p),className:"relative p-2 text-gray-400 hover:text-gray-600 transition-colors",children:[r.jsx(o.Z,{className:"h-6 w-6"}),a>0&&r.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:a})]}),p&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notifications"})}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length>0?t.map(e=>r.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 ${e.read?"":"bg-blue-50"}`,children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[N(e.type),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.title}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(e.timestamp).toLocaleString()})]}),!e.read&&r.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"})]})},e.id)):r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"})}),r.jsx("div",{className:"p-4 border-t border-gray-200",children:r.jsx(g.z,{variant:"outline",size:"sm",className:"w-full",children:"View All Notifications"})})]})]}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(h.Z,{className:"h-6 w-6"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:e?.full_name||"Administrator"}),r.jsx("p",{className:"text-xs text-gray-500",children:"System Admin"})]}),r.jsx("div",{className:"h-8 w-8 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-medium text-red-700",children:e?.full_name?.charAt(0)||"A"})}),r.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Logout",children:r.jsx(u.Z,{className:"h-5 w-5"})})]})]})]})})}[n,j]=v.then?(await v)():v,a()}catch(e){a(e)}})},24400:(e,s,t)=>{"use strict";t.d(s,{g:()=>S});var a=t(10326),r=t(17577),i=t(90434),l=t(35047),n=t(57963),c=t(60982),d=t(8566),m=t(14526),x=t(16041),o=t(7710),h=t(56052),u=t(3719),g=t(58885),f=t(75231),j=t(43977),v=t(10233),p=t(6058),y=t(99323),N=t(58276),b=t(9529),w=t(31008),A=t(43235),Z=t(28369),k=t(41135);let C=[{name:"Dashboard",href:"/admin/dashboard",icon:c.Z,iconActive:j.Z},{name:"Agents",href:"/admin/agents",icon:d.Z,iconActive:v.Z,badge:12},{name:"Cost Tracking",href:"/admin/costs",icon:m.Z,iconActive:p.Z},{name:"Analytics",href:"/admin/analytics",icon:x.Z,iconActive:y.Z},{name:"WABA Management",href:"/admin/waba",icon:o.Z,iconActive:N.Z},{name:"System Health",href:"/admin/system",icon:h.Z,iconActive:b.Z},{name:"Audit Logs",href:"/admin/audit",icon:u.Z,iconActive:w.Z},{name:"Security",href:"/admin/security",icon:g.Z,iconActive:A.Z},{name:"Settings",href:"/admin/settings",icon:f.Z,iconActive:Z.Z}];function S(){let e=(0,l.usePathname)(),{user:s}=(0,n.a)(),[t,c]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:(0,k.Z)("bg-white border-r border-gray-200 flex flex-col transition-all duration-300",t?"w-16":"w-64"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[!t&&(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 bg-red-600 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),a.jsx("span",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Admin Panel"})]}),a.jsx("button",{onClick:()=>c(!t),className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),!t&&a.jsx("div",{className:"p-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-red-700",children:s?.full_name?.charAt(0)||"A"})}),(0,a.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s?.full_name||"Administrator"}),(0,a.jsxs)("div",{className:"flex items-center mt-1",children:[a.jsx("div",{className:"h-2 w-2 bg-green-400 rounded-full"}),a.jsx("p",{className:"text-xs text-gray-500 ml-1",children:"System Admin"})]})]})]})}),a.jsx("nav",{className:"flex-1 p-4 space-y-1",children:C.map(s=>{let r=e===s.href,l=r?s.iconActive:s.icon;return(0,a.jsxs)(i.default,{href:s.href,className:(0,k.Z)("nav-item",r?"nav-item-active":"nav-item-inactive",t?"justify-center":"justify-start"),title:t?s.name:void 0,children:[a.jsx(l,{className:"h-5 w-5 flex-shrink-0"}),!t&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"ml-3",children:s.name}),s.badge&&a.jsx("span",{className:"ml-auto bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:s.badge})]})]},s.name)})}),!t&&a.jsx("div",{className:"p-4 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-500",children:"System Status"}),a.jsx("span",{className:"text-green-600 font-medium",children:"Healthy"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-500",children:"Active Agents"}),a.jsx("span",{className:"text-gray-900 font-medium",children:"12/15"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-500",children:"Monthly Cost"}),a.jsx("span",{className:"text-gray-900 font-medium",children:"$2,847"})]})]})})]})}},62896:(e,s,t)=>{"use strict";t.d(s,{TK:()=>n});var a=t(10326);t(17577);var r=t(79360),i=t(77863);let l=(0,r.j)("animate-spin",{variants:{size:{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},variant:{default:"text-primary",muted:"text-muted-foreground",destructive:"text-destructive"}},defaultVariants:{size:"md",variant:"default"}});function n({size:e,variant:s,className:t,label:r="Loading...",...n}){return(0,a.jsxs)("div",{className:(0,i.cn)("flex items-center justify-center",t),role:"status","aria-label":r,...n,children:[(0,a.jsxs)("svg",{className:(0,i.cn)(l({size:e,variant:s})),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{className:"sr-only",children:r})]})}},18962:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(s,{RW:()=>u,Us:()=>o,n$:()=>h});var r=t(10326),i=t(17610),l=t(32432),n=t(19381),c=t(83401),d=t(37740),m=t(41135),x=e([i,l]);function o({showText:e=!0,size:s="md",className:t}){let{connected:a}=(0,i.s)(),{metrics:d}=(0,l.k)(),x={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"},o=a?d.systemAlerts>0?{icon:n.Z,color:"text-yellow-500",bgColor:"bg-yellow-100",text:"Connected",description:`${d.systemAlerts} system alert${d.systemAlerts>1?"s":""}`}:{icon:c.Z,color:"text-green-500",bgColor:"bg-green-100",text:"Connected",description:"All systems operational"}:{icon:n.Z,color:"text-red-500",bgColor:"bg-red-100",text:"Disconnected",description:"Real-time features unavailable"},h=o.icon;return(0,r.jsxs)("div",{className:(0,m.Z)("flex items-center space-x-2",t),children:[r.jsx("div",{className:(0,m.Z)("flex items-center justify-center rounded-full p-1",o.bgColor),children:r.jsx(h,{className:(0,m.Z)(x[s],o.color)})}),e&&(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("span",{className:(0,m.Z)("font-medium",{sm:"text-xs",md:"text-sm",lg:"text-base"}[s],o.color),children:o.text}),o.description&&r.jsx("span",{className:(0,m.Z)("text-gray-500","text-xs"),children:o.description})]}),a&&(0,r.jsxs)("div",{className:"relative",children:[r.jsx("div",{className:(0,m.Z)("absolute rounded-full animate-ping",o.bgColor,x[s])}),r.jsx("div",{className:(0,m.Z)("relative rounded-full",o.bgColor,x[s])})]})]})}function h({className:e}){let{metrics:s,connected:t}=(0,l.k)();return t?(0,r.jsxs)("div",{className:(0,m.Z)("grid grid-cols-2 md:grid-cols-4 gap-4",e),children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:s.activeConversations}),r.jsx("div",{className:"text-sm text-gray-600",children:"Active Chats"})]}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:s.newLeads}),r.jsx("div",{className:"text-sm text-gray-600",children:"New Leads"})]}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:s.pendingAppointments}),r.jsx("div",{className:"text-sm text-gray-600",children:"Appointments"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-2xl font-semibold text-gray-900",children:[Math.round(s.apiUsage.total),"%"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"API Usage"})]})]}):(0,r.jsxs)("div",{className:(0,m.Z)("text-center py-4",e),children:[r.jsx(d.Z,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Real-time data unavailable"})]})}function u({className:e}){let{notifications:s}=(0,l.k)(),t=s.slice(0,5);return(0,r.jsxs)("div",{className:(0,m.Z)("space-y-3",e),children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Live Activity"}),t.length>0?r.jsx("div",{className:"space-y-2",children:t.map(e=>(0,r.jsxs)("div",{className:"flex items-start space-x-3 p-2 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:(0,m.Z)("flex-shrink-0 w-2 h-2 rounded-full mt-2","success"===e.type&&"bg-green-400","error"===e.type&&"bg-red-400","warning"===e.type&&"bg-yellow-400","info"===e.type&&"bg-blue-400")}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),r.jsx("p",{className:"text-xs text-gray-600 truncate",children:e.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.timestamp.toLocaleTimeString()})]})]},e.id))}):r.jsx("p",{className:"text-sm text-gray-500",children:"No recent activity"})]})}[i,l]=x.then?(await x)():x,a()}catch(e){a(e)}})},54432:(e,s,t)=>{"use strict";t.d(s,{I:()=>l});var a=t(10326),r=t(17577),i=t(77863);let l=r.forwardRef(({className:e,type:s,...t},r)=>a.jsx("input",{type:s,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));l.displayName="Input"},32432:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(s,{k:()=>d});var r=t(17577),i=t(17610),l=t(57963),n=t(85999),c=e([i]);function d(){let{socket:e,connected:s}=(0,i.s)(),{user:t}=(0,l.a)(),[a,c]=(0,r.useState)([]),[d,m]=(0,r.useState)({activeConversations:0,newLeads:0,pendingAppointments:0,systemAlerts:0,apiUsage:{whatsapp:0,openai:0,total:0}}),x=(0,r.useCallback)(e=>{let s={...e,id:Date.now().toString(),timestamp:new Date,read:!1};switch(c(e=>[s,...e.slice(0,49)]),e.type){case"success":n.A.success(e.title,{description:e.message});break;case"error":n.A.error(e.title,{description:e.message});break;case"warning":n.A.warning(e.title,{description:e.message});break;default:n.A.info(e.title,{description:e.message})}},[]),o=(0,r.useCallback)(e=>{c(s=>s.map(s=>s.id===e?{...s,read:!0}:s))},[]),h=(0,r.useCallback)(()=>{c(e=>e.map(e=>({...e,read:!0})))},[]),u=(0,r.useCallback)(()=>{c([])},[]),g=a.filter(e=>!e.read).length;return{notifications:a,metrics:d,unreadCount:g,addNotification:x,markAsRead:o,markAllAsRead:h,clearNotifications:u,connected:s}}i=(c.then?(await c)():c)[0],a()}catch(e){a(e)}})},90596:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Users\Imperial\Desktop\realestate-bot-backend\frontend\app\admin\layout.tsx#default`)}};