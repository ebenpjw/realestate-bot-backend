(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{17266:function(e,s,t){Promise.resolve().then(t.bind(t,12625))},12625:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return F}});var a=t(57437),r=t(85315),n=t(99376),i=t(2265),l=t(27648),c=t(19778),d=t(78931),m=t(16546),x=t(16331),o=t(43767),h=t(38810),u=t(19672),f=t(68690),j=t(59152),g=t(53229),v=t(71973),N=t(29699),y=t(72952),b=t(19207),p=t(44767),w=t(1424),A=t(38976),Z=t(57485),k=t(61994);let S=[{name:"Dashboard",href:"/admin/dashboard",icon:c.Z,iconActive:g.Z},{name:"Agents",href:"/admin/agents",icon:d.Z,iconActive:v.Z,badge:12},{name:"Cost Tracking",href:"/admin/costs",icon:m.Z,iconActive:N.Z},{name:"Analytics",href:"/admin/analytics",icon:x.Z,iconActive:y.Z},{name:"WABA Management",href:"/admin/waba",icon:o.Z,iconActive:b.Z},{name:"System Health",href:"/admin/system",icon:h.Z,iconActive:p.Z},{name:"Audit Logs",href:"/admin/audit",icon:u.Z,iconActive:w.Z},{name:"Security",href:"/admin/security",icon:f.Z,iconActive:A.Z},{name:"Settings",href:"/admin/settings",icon:j.Z,iconActive:Z.Z}];function _(){var e;let s=(0,n.usePathname)(),{user:t}=(0,r.a)(),[c,d]=(0,i.useState)(!1);return(0,a.jsxs)("div",{className:(0,k.Z)("bg-white border-r border-gray-200 flex flex-col transition-all duration-300",c?"w-16":"w-64"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[!c&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"h-8 w-8 bg-red-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),(0,a.jsx)("span",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Admin Panel"})]}),(0,a.jsx)("button",{onClick:()=>d(!c),className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),!c&&(0,a.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"h-10 w-10 bg-red-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-red-700",children:(null==t?void 0:null===(e=t.full_name)||void 0===e?void 0:e.charAt(0))||"A"})}),(0,a.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:(null==t?void 0:t.full_name)||"Administrator"}),(0,a.jsxs)("div",{className:"flex items-center mt-1",children:[(0,a.jsx)("div",{className:"h-2 w-2 bg-green-400 rounded-full"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 ml-1",children:"System Admin"})]})]})]})}),(0,a.jsx)("nav",{className:"flex-1 p-4 space-y-1",children:S.map(e=>{let t=s===e.href,r=t?e.iconActive:e.icon;return(0,a.jsxs)(l.default,{href:e.href,className:(0,k.Z)("nav-item",t?"nav-item-active":"nav-item-inactive",c?"justify-center":"justify-start"),title:c?e.name:void 0,children:[(0,a.jsx)(r,{className:"h-5 w-5 flex-shrink-0"}),!c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"ml-3",children:e.name}),e.badge&&(0,a.jsx)("span",{className:"ml-auto bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:e.badge})]})]},e.name)})}),!c&&(0,a.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"System Status"}),(0,a.jsx)("span",{className:"text-green-600 font-medium",children:"Healthy"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Active Agents"}),(0,a.jsx)("span",{className:"text-gray-900 font-medium",children:"12/15"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Monthly Cost"}),(0,a.jsx)("span",{className:"text-gray-900 font-medium",children:"$2,847"})]})]})})]})}var C=t(6638),L=t(47842),z=t(1442),M=t(59055),E=t(41556),B=t(23121),P=t(16503),W=t(62869),D=t(95186),H=t(72099);function O(){var e;let{user:s,logout:t}=(0,r.a)(),{notifications:n,unreadCount:l,markAsRead:c}=(0,C.k)(),[d,m]=(0,i.useState)(!1),x=e=>{switch(e){case"warning":return(0,a.jsx)(L.Z,{className:"h-5 w-5 text-yellow-500"});case"success":return(0,a.jsx)(z.Z,{className:"h-5 w-5 text-green-500"});case"error":return(0,a.jsx)(L.Z,{className:"h-5 w-5 text-red-500"});default:return(0,a.jsx)(M.Z,{className:"h-5 w-5 text-blue-500"})}};return(0,a.jsx)("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex-1 max-w-lg",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(E.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(D.I,{type:"text",placeholder:"Search agents, costs, logs...",className:"pl-10 pr-4"})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(H.Us,{size:"sm"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>m(!d),className:"relative p-2 text-gray-400 hover:text-gray-600 transition-colors",children:[(0,a.jsx)(B.Z,{className:"h-6 w-6"}),l>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:l})]}),d&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Notifications"})}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:n.length>0?n.map(e=>(0,a.jsx)("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 ".concat(e.read?"":"bg-blue-50"),children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[x(e.type),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.message}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:new Date(e.timestamp).toLocaleString()})]}),!e.read&&(0,a.jsx)("div",{className:"h-2 w-2 bg-blue-500 rounded-full"})]})},e.id)):(0,a.jsx)("div",{className:"p-4 text-center text-gray-500",children:"No notifications"})}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,a.jsx)(W.z,{variant:"outline",size:"sm",className:"w-full",children:"View All Notifications"})})]})]}),(0,a.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(j.Z,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(null==s?void 0:s.full_name)||"Administrator"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"System Admin"})]}),(0,a.jsx)("div",{className:"h-8 w-8 bg-red-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-red-700",children:(null==s?void 0:null===(e=s.full_name)||void 0===e?void 0:e.charAt(0))||"A"})}),(0,a.jsx)("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Logout",children:(0,a.jsx)(P.Z,{className:"h-5 w-5"})})]})]})]})})}var T=t(85012);function F(e){let{children:s}=e,{user:t,loading:l,isAuthenticated:c,isAdmin:d}=(0,r.a)(),m=(0,n.useRouter)();return((0,i.useEffect)(()=>{if(!l){if(!c){m.push("/auth/login");return}if(!d){m.push("/agent/dashboard");return}}},[l,c,d,m]),l)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsx)(T.TK,{size:"lg"})}):c&&d?(0,a.jsxs)("div",{className:"h-screen flex bg-gray-50",children:[(0,a.jsx)(_,{}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,a.jsx)(O,{}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"p-6",children:s})})]})]}):null}}},function(e){e.O(0,[216,592,744],function(){return e(e.s=17266)}),_N_E=e.O()}]);