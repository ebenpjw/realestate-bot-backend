(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[865],{53512:function(e,t,s){Promise.resolve().then(s.bind(s,27549))},27549:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return T}});var a=s(57437),l=s(2265),r=s(85315),n=s(85012),i=s(87735),c=s(45762),d=s(45926),o=s(43767),x=s(89453),m=s(76098),u=s(74610),h=s(61994);function p(e){let{leads:t,selectedLeads:s,onLeadSelect:r,onSelectAll:n,onLeadClick:p,onStatusUpdate:g}=e,j=e=>{switch(e){case"new":return"bg-blue-100 text-blue-800";case"qualified":return"bg-green-100 text-green-800";case"booked":return"bg-purple-100 text-purple-800";case"completed":return"bg-emerald-100 text-emerald-800";case"lost":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=e=>{switch(e){case"buy":return"\uD83C\uDFE0";case"rent":return"\uD83D\uDD11";case"browse":return"\uD83D\uDC40";case"invest":return"\uD83D\uDCB0";default:return"\uD83D\uDCAC"}},f=t.length>0&&s.length===t.length,v=s.length>0&&s.length<t.length;return(0,a.jsxs)("div",{className:"overflow-x-auto",children:[(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:f,ref:e=>{e&&(e.indeterminate=v)},onChange:e=>n(e.target.checked)})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Intent"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Contact"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Messages"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),(0,a.jsx)("th",{className:"relative px-6 py-3",children:(0,a.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>p(e),children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:s.includes(e.id),onChange:t=>{t.stopPropagation(),r(e.id,t.target.checked)}})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-primary-700",children:e.fullName.charAt(0)})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.fullName}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.phoneNumber})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:(0,h.Z)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",j(e.status)),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:y(e.intent)}),(0,a.jsx)("span",{className:"text-sm text-gray-900 capitalize",children:e.intent||"Unknown"})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.budget||"-"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.locationPreference||"-"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,i.WU)(new Date(e.lastInteraction),"MMM d, h:mm a")}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-1 text-gray-400"}),e.messagesCount]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.source}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:e=>{e.stopPropagation()},className:"text-primary-600 hover:text-primary-900",title:"Start conversation",children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation()},className:"text-green-600 hover:text-green-900",title:"Call lead",children:(0,a.jsx)(x.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation()},className:"text-purple-600 hover:text-purple-900",title:"Schedule appointment",children:(0,a.jsx)(m.Z,{className:"h-4 w-4"})}),(0,a.jsxs)(c.v2,{as:"div",className:"relative",children:[(0,a.jsx)(c.v2.Button,{onClick:e=>e.stopPropagation(),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(u.Z,{className:"h-4 w-4"})}),(0,a.jsx)(d.u,{as:l.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,a.jsxs)(c.v2.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-lg bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[(0,a.jsx)(c.v2.Item,{children:t=>{let{active:s}=t;return(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),g(e.id,"qualified")},className:(0,h.Z)(s?"bg-gray-100":"","block w-full px-4 py-2 text-left text-sm text-gray-700"),children:"Mark as Qualified"})}}),(0,a.jsx)(c.v2.Item,{children:t=>{let{active:s}=t;return(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),g(e.id,"booked")},className:(0,h.Z)(s?"bg-gray-100":"","block w-full px-4 py-2 text-left text-sm text-gray-700"),children:"Mark as Booked"})}}),(0,a.jsx)(c.v2.Item,{children:t=>{let{active:s}=t;return(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),g(e.id,"lost")},className:(0,h.Z)(s?"bg-gray-100":"","block w-full px-4 py-2 text-left text-sm text-red-700"),children:"Mark as Lost"})}}),(0,a.jsx)(c.v2.Item,{children:e=>{let{active:t}=e;return(0,a.jsx)("button",{onClick:e=>{e.stopPropagation()},className:(0,h.Z)(t?"bg-gray-100":"","block w-full px-4 py-2 text-left text-sm text-gray-700"),children:"Edit Lead"})}})]})})]})]})})]},e.id))})]}),0===t.length&&(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsxs)("div",{className:"text-gray-500",children:[(0,a.jsx)(o.Z,{className:"h-12 w-12 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No leads found"}),(0,a.jsx)("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})]})}function g(e){var t,s,l,r;let{statusFilter:n,onStatusFilterChange:i,intentFilter:c,onIntentFilterChange:d,sourceFilter:o,onSourceFilterChange:x,dateRange:m,onDateRangeChange:u}=e,h=[{value:"all",label:"All Status"},{value:"new",label:"New"},{value:"qualified",label:"Qualified"},{value:"booked",label:"Booked"},{value:"completed",label:"Completed"},{value:"lost",label:"Lost"}],p=[{value:"all",label:"All Intent"},{value:"buy",label:"Buy"},{value:"rent",label:"Rent"},{value:"browse",label:"Browse"},{value:"invest",label:"Invest"}],g=[{value:"all",label:"All Sources"},{value:"Facebook Lead Ad",label:"Facebook Lead Ad"},{value:"WhatsApp Direct",label:"WhatsApp Direct"},{value:"Property Portal",label:"Property Portal"},{value:"Referral",label:"Referral"},{value:"Website",label:"Website"}],j=[{value:"all",label:"All Time"},{value:"24h",label:"Last 24 Hours"},{value:"7d",label:"Last 7 Days"},{value:"30d",label:"Last 30 Days"}];return(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,a.jsx)("select",{value:n,onChange:e=>i(e.target.value),className:"input-field",children:h.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Intent"}),(0,a.jsx)("select",{value:c,onChange:e=>d(e.target.value),className:"input-field",children:p.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source"}),(0,a.jsx)("select",{value:o,onChange:e=>x(e.target.value),className:"input-field",children:g.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),(0,a.jsx)("select",{value:m,onChange:e=>u(e.target.value),className:"input-field",children:j.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:["all"!==n&&(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Status: ",null===(t=h.find(e=>e.value===n))||void 0===t?void 0:t.label,(0,a.jsx)("button",{onClick:()=>i("all"),className:"ml-2 text-blue-600 hover:text-blue-800",children:"\xd7"})]}),"all"!==c&&(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Intent: ",null===(s=p.find(e=>e.value===c))||void 0===s?void 0:s.label,(0,a.jsx)("button",{onClick:()=>d("all"),className:"ml-2 text-green-600 hover:text-green-800",children:"\xd7"})]}),"all"!==o&&(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Source: ",null===(l=g.find(e=>e.value===o))||void 0===l?void 0:l.label,(0,a.jsx)("button",{onClick:()=>x("all"),className:"ml-2 text-purple-600 hover:text-purple-800",children:"\xd7"})]}),"all"!==m&&(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:["Date: ",null===(r=j.find(e=>e.value===m))||void 0===r?void 0:r.label,(0,a.jsx)("button",{onClick:()=>u("all"),className:"ml-2 text-orange-600 hover:text-orange-800",children:"\xd7"})]}),("all"!==n||"all"!==c||"all"!==o||"all"!==m)&&(0,a.jsx)("button",{onClick:()=>{i("all"),d("all"),x("all"),u("all")},className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"Clear all filters"})]})]})}var j=s(83467),y=s(77165),f=s(65001),v=s(16546),b=s(56422),N=s(20322);function w(e){let{lead:t,onClose:s,onStatusUpdate:r}=e,[n,c]=(0,l.useState)("overview");return(0,a.jsx)(d.u,{appear:!0,show:!0,as:l.Fragment,children:(0,a.jsxs)(j.Vq,{as:"div",className:"relative z-50",onClose:s,children:[(0,a.jsx)(d.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,a.jsx)(d.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)(j.Vq.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-xl bg-white text-left align-middle shadow-xl transition-all",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"h-12 w-12 bg-primary-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-lg font-medium text-primary-700",children:t.fullName.charAt(0)})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:t.fullName}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:t.phoneNumber})]})]}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(y.Z,{className:"h-6 w-6"})})]}),(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("span",{className:(0,h.Z)("inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",(e=>{switch(e){case"new":return"bg-blue-100 text-blue-800";case"qualified":return"bg-green-100 text-green-800";case"booked":return"bg-purple-100 text-purple-800";case"completed":return"bg-emerald-100 text-emerald-800";case"lost":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(t.status)),children:t.status}),(0,a.jsx)("select",{value:t.status,onChange:e=>r(e.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[{value:"new",label:"New"},{value:"qualified",label:"Qualified"},{value:"booked",label:"Booked"},{value:"completed",label:"Completed"},{value:"lost",label:"Lost"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("button",{className:"btn-secondary flex items-center",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Message"]}),(0,a.jsxs)("button",{className:"btn-secondary flex items-center",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Call"]}),(0,a.jsxs)("button",{className:"btn-primary flex items-center",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Schedule"]})]})]})}),(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",name:"Overview"},{id:"activity",name:"Activity"},{id:"notes",name:"Notes"}].map(e=>(0,a.jsx)("button",{onClick:()=>c(e.id),className:(0,h.Z)("py-4 px-1 border-b-2 font-medium text-sm",n===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.name},e.id))})}),(0,a.jsxs)("div",{className:"p-6",children:["overview"===n&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(f.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Intent"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 capitalize",children:t.intent||"Not specified"})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(v.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Budget"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:t.budget||"Not specified"})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(b.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Location Preference"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:t.locationPreference||"Not specified"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(N.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Timeline"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:t.timeline||"Not specified"})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Messages"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[t.messagesCount," messages"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(f.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Source"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:t.source})]})]})]})]}),t.propertyType&&(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Property Requirements"}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Looking for: ",(0,a.jsx)("span",{className:"font-medium",children:t.propertyType})]})})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Timeline"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Created"}),(0,a.jsx)("span",{className:"text-gray-900",children:(0,i.WU)(new Date(t.createdAt),"MMM d, yyyy h:mm a")})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Last Interaction"}),(0,a.jsx)("span",{className:"text-gray-900",children:(0,i.WU)(new Date(t.lastInteraction),"MMM d, yyyy h:mm a")})]})]})]})]}),"activity"===n&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"}),(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(o.Z,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{children:"Activity timeline coming soon"})]})]}),"notes"===n&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Notes"}),(0,a.jsx)("textarea",{className:"w-full h-32 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Add notes about this lead..."}),(0,a.jsx)("button",{className:"btn-primary",children:"Save Notes"})]})]})]})})})})]})})}var k=s(55026),C=s(81801),S=s(61601);function Z(e){let{selectedCount:t,onStatusUpdate:s,onDelete:r,onClearSelection:n}=e;return(0,a.jsx)("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-primary-900",children:[t," lead",1!==t?"s":""," selected"]}),(0,a.jsx)("button",{onClick:n,className:"ml-2 text-primary-600 hover:text-primary-800",children:(0,a.jsx)(y.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(c.v2,{as:"div",className:"relative",children:[(0,a.jsxs)(c.v2.Button,{className:"btn-secondary flex items-center",children:[(0,a.jsx)(k.Z,{className:"h-4 w-4 mr-2"}),"Update Status",(0,a.jsx)(C.Z,{className:"h-4 w-4 ml-2"})]}),(0,a.jsx)(d.u,{as:l.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,a.jsx)(c.v2.Items,{className:"absolute left-0 z-10 mt-2 w-48 origin-top-left rounded-lg bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[{value:"new",label:"Mark as New",color:"text-blue-600"},{value:"qualified",label:"Mark as Qualified",color:"text-green-600"},{value:"booked",label:"Mark as Booked",color:"text-purple-600"},{value:"completed",label:"Mark as Completed",color:"text-emerald-600"},{value:"lost",label:"Mark as Lost",color:"text-red-600"}].map(e=>(0,a.jsx)(c.v2.Item,{children:t=>{let{active:l}=t;return(0,a.jsx)("button",{onClick:()=>s(e.value),className:(0,h.Z)(l?"bg-gray-100":"","block w-full px-4 py-2 text-left text-sm",e.color),children:e.label})}},e.value))})})]}),(0,a.jsxs)("button",{onClick:r,className:"btn-secondary text-red-600 hover:text-red-800 hover:bg-red-50 flex items-center",children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]}),(0,a.jsx)("div",{className:"text-xs text-primary-600",children:"Bulk actions will be applied to all selected leads"})]})})}var D=s(46217),L=s(43836),M=s(41556),P=s(94565);let A=[{id:"1",phoneNumber:"+65 9123 4567",fullName:"Sarah Chen",status:"qualified",intent:"buy",budget:"$800K - $1.2M",locationPreference:"Marina Bay",propertyType:"3-bedroom condo",timeline:"Within 3 months",lastInteraction:"2024-01-15T10:30:00Z",messagesCount:12,createdAt:"2024-01-10T09:00:00Z",source:"Facebook Lead Ad"},{id:"2",phoneNumber:"+65 9234 5678",fullName:"Michael Tan",status:"new",intent:"browse",budget:"$600K - $900K",locationPreference:"Orchard",propertyType:"2-bedroom condo",timeline:"Within 6 months",lastInteraction:"2024-01-15T09:45:00Z",messagesCount:5,createdAt:"2024-01-14T14:30:00Z",source:"WhatsApp Direct"},{id:"3",phoneNumber:"+65 9345 6789",fullName:"Jennifer Lim",status:"booked",intent:"buy",budget:"$1M - $1.5M",locationPreference:"Sentosa Cove",propertyType:"4-bedroom condo",timeline:"Within 2 months",lastInteraction:"2024-01-15T08:15:00Z",messagesCount:18,createdAt:"2024-01-08T11:20:00Z",source:"Property Portal"}];function T(){let{user:e}=(0,r.a)(),[t,s]=(0,l.useState)(A),[i,c]=(0,l.useState)(A),[d,o]=(0,l.useState)([]),[x,m]=(0,l.useState)(null),[u,h]=(0,l.useState)(!1),[j,y]=(0,l.useState)(!1),[f,v]=(0,l.useState)(""),[b,N]=(0,l.useState)("all"),[k,C]=(0,l.useState)("all"),[S,T]=(0,l.useState)("all"),[F,I]=(0,l.useState)("all"),[B,q]=(0,l.useState)(1),[R]=(0,l.useState)(20);(0,l.useEffect)(()=>{let e=t;if(f&&(e=e.filter(e=>{var t;return e.fullName.toLowerCase().includes(f.toLowerCase())||e.phoneNumber.includes(f)||(null===(t=e.locationPreference)||void 0===t?void 0:t.toLowerCase().includes(f.toLowerCase()))})),"all"!==b&&(e=e.filter(e=>e.status===b)),"all"!==k&&(e=e.filter(e=>e.intent===k)),"all"!==S&&(e=e.filter(e=>e.source===S)),"all"!==F){let t=new Date,s=new Date;switch(F){case"24h":s.setHours(t.getHours()-24);break;case"7d":s.setDate(t.getDate()-7);break;case"30d":s.setDate(t.getDate()-30)}e=e.filter(e=>new Date(e.createdAt)>=s)}c(e),q(1)},[t,f,b,k,S,F]);let U=(e,t)=>{s(s=>s.map(s=>e.includes(s.id)?{...s,status:t}:s)),o([])},W=e=>{s(t=>t.filter(t=>!e.includes(t.id))),o([])},z=Math.ceil(i.length/R),E=(B-1)*R,O=i.slice(E,E+R),$={total:t.length,new:t.filter(e=>"new"===e.status).length,qualified:t.filter(e=>"qualified"===e.status).length,booked:t.filter(e=>"booked"===e.status).length,completed:t.filter(e=>"completed"===e.status).length,lost:t.filter(e=>"lost"===e.status).length};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Lead Management"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Manage and track your leads through the sales pipeline"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("button",{onClick:()=>{let e=new Blob([[["Name","Phone","Status","Intent","Budget","Location","Created"],...i.map(e=>[e.fullName,e.phoneNumber,e.status,e.intent||"",e.budget||"",e.locationPreference||"",new Date(e.createdAt).toLocaleDateString()])].map(e=>e.join(",")).join("\n")],{type:"text/csv"}),t=window.URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="leads-".concat(new Date().toISOString().split("T")[0],".csv"),s.click(),window.URL.revokeObjectURL(t)},className:"btn-secondary flex items-center",children:[(0,a.jsx)(D.Z,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,a.jsxs)("button",{className:"btn-primary flex items-center",children:[(0,a.jsx)(L.Z,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:Object.entries($).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"metric-card",children:[(0,a.jsx)("div",{className:"metric-value",children:s}),(0,a.jsx)("div",{className:"metric-label capitalize",children:t})]},t)})}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"flex-1 max-w-md",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(M.Z,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{type:"text",className:"input-field pl-10",placeholder:"Search leads...",value:f,onChange:e=>v(e.target.value)})]})}),(0,a.jsx)("div",{className:"flex items-center space-x-3",children:(0,a.jsxs)("button",{onClick:()=>y(!j),className:"btn-secondary flex items-center",children:[(0,a.jsx)(P.Z,{className:"h-4 w-4 mr-2"}),"Filters"]})})]}),j&&(0,a.jsx)(g,{statusFilter:b,onStatusFilterChange:N,intentFilter:k,onIntentFilterChange:C,sourceFilter:S,onSourceFilterChange:T,dateRange:F,onDateRangeChange:I})]}),d.length>0&&(0,a.jsx)(Z,{selectedCount:d.length,onStatusUpdate:e=>U(d,e),onDelete:()=>W(d),onClearSelection:()=>o([])}),(0,a.jsxs)("div",{className:"card p-0",children:[u?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(n.TK,{size:"lg"})}):(0,a.jsx)(p,{leads:O,selectedLeads:d,onLeadSelect:(e,t)=>{t?o(t=>[...t,e]):o(t=>t.filter(t=>t!==e))},onSelectAll:e=>{e?o(i.map(e=>e.id)):o([])},onLeadClick:m,onStatusUpdate:(e,t)=>U([e],t)}),z>1&&(0,a.jsx)("div",{className:"px-6 py-4 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",E+1," to ",Math.min(E+R,i.length)," of ",i.length," results"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>q(e=>Math.max(e-1,1)),disabled:1===B,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,a.jsxs)("span",{className:"text-sm text-gray-700",children:["Page ",B," of ",z]}),(0,a.jsx)("button",{onClick:()=>q(e=>Math.min(e+1,z)),disabled:B===z,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]}),x&&(0,a.jsx)(w,{lead:x,onClose:()=>m(null),onStatusUpdate:e=>{U([x.id],e),m(null)}})]})}},85012:function(e,t,s){"use strict";s.d(t,{TK:function(){return i}});var a=s(57437);s(2265);var l=s(90535),r=s(94508);let n=(0,l.j)("animate-spin",{variants:{size:{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},variant:{default:"text-primary",muted:"text-muted-foreground",destructive:"text-destructive"}},defaultVariants:{size:"md",variant:"default"}});function i(e){let{size:t,variant:s,className:l,label:i="Loading...",...c}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("flex items-center justify-center",l),role:"status","aria-label":i,...c,children:[(0,a.jsxs)("svg",{className:(0,r.cn)(n({size:t,variant:s})),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,a.jsx)("span",{className:"sr-only",children:i})]})}}},function(e){e.O(0,[501,851,438,301,859,101,735,335,805,971,117,744],function(){return e(e.s=53512)}),_N_E=e.O()}]);