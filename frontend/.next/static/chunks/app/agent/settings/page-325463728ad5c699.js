(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[516],{80153:function(e,s,t){Promise.resolve().then(t.bind(t,77463))},77463:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return w}});var i=t(57437),n=t(2265),a=t(338),r=t(23121),l=t(68690),o=t(43767),c=t(20322),d=t(20609),u=t(32342),m=t(4670),f=t(66070),p=t(62869),h=t(95186),x=t(84501),g=t(61994);let b=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,i.jsx)(x.fC,{className:(0,g.W)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary-600 data-[state=unchecked]:bg-gray-200",t),...n,ref:s,children:(0,i.jsx)(x.bU,{className:(0,g.W)("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});b.displayName=x.fC.displayName;var v=t(85012),y=t(14438);function j(){let{isInstalled:e,isOffline:s,notificationPermission:t,pushSubscription:a,requestNotificationPermission:r,subscribeToPush:l,unsubscribeFromPush:o}=function(){let[e,s]=(0,n.useState)({isInstallable:!1,isInstalled:!1,isOffline:!1,isUpdateAvailable:!1,notificationPermission:"default",pushSubscription:null}),[t,i]=(0,n.useState)(null),[a,r]=(0,n.useState)(null),l=(0,n.useCallback)(async()=>{if("serviceWorker"in navigator)try{let e=await navigator.serviceWorker.register("/sw.js",{scope:"/"});return r(e),e.addEventListener("updatefound",()=>{let t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&(s(e=>({...e,isUpdateAvailable:!0})),y.A.info("App Update Available",{description:"A new version is ready. Refresh to update.",action:{label:"Refresh",onClick:()=>window.location.reload()}}))})}),console.log("Service Worker registered successfully"),e}catch(e){console.error("Service Worker registration failed:",e)}return null},[]),o=(0,n.useCallback)(async()=>{if(t)try{await t.prompt();let e=await t.userChoice;"accepted"===e.outcome&&(s(e=>({...e,isInstalled:!0,isInstallable:!1})),i(null),y.A.success("App Installed",{description:"PropertyHub has been added to your home screen!"}))}catch(e){console.error("PWA installation failed:",e),y.A.error("Installation Failed",{description:"Unable to install the app. Please try again."})}},[t]),c=(0,n.useCallback)(async()=>{if("Notification"in window)try{let e=await Notification.requestPermission();return s(s=>({...s,notificationPermission:e})),"granted"===e?y.A.success("Notifications Enabled",{description:"You will now receive push notifications."}):y.A.error("Notifications Denied",{description:"You can enable notifications in your browser settings."}),e}catch(e){console.error("Notification permission request failed:",e)}return"denied"},[]),d=(0,n.useCallback)(async()=>{if(!a)return console.error("Service Worker not registered"),null;try{let e=await a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"your-vapid-public-key"});return s(s=>({...s,pushSubscription:e})),await fetch("/api/push/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("auth_token"))},body:JSON.stringify(e)}),y.A.success("Push Notifications Enabled",{description:"You will receive real-time updates."}),e}catch(e){return console.error("Push subscription failed:",e),y.A.error("Push Notifications Failed",{description:"Unable to enable push notifications."}),null}},[a]),u=(0,n.useCallback)(async()=>{if(e.pushSubscription)try{await e.pushSubscription.unsubscribe(),s(e=>({...e,pushSubscription:null})),await fetch("/api/push/unsubscribe",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("auth_token"))}}),y.A.success("Push Notifications Disabled")}catch(e){console.error("Push unsubscription failed:",e)}},[e.pushSubscription]),m=(0,n.useCallback)(()=>{let e=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");s(s=>({...s,isInstalled:e}))},[]);return(0,n.useEffect)(()=>{l(),m(),"Notification"in window&&s(e=>({...e,notificationPermission:Notification.permission}));let e=e=>{e.preventDefault(),i(e),s(e=>({...e,isInstallable:!0}))},t=()=>{s(e=>({...e,isInstalled:!0,isInstallable:!1})),i(null),y.A.success("App Installed Successfully!")},n=()=>{s(e=>({...e,isOffline:!1})),y.A.success("Back Online",{description:"Connection restored. Syncing data..."})},a=()=>{s(e=>({...e,isOffline:!0})),y.A.warning("You're Offline",{description:"Some features may be limited."})};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",t),window.addEventListener("online",n),window.addEventListener("offline",a),s(e=>({...e,isOffline:!navigator.onLine})),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",t),window.removeEventListener("online",n),window.removeEventListener("offline",a)}},[l,m]),(0,n.useEffect)(()=>{a&&a.pushManager.getSubscription().then(e=>{s(s=>({...s,pushSubscription:e}))}).catch(console.error)},[a]),{...e,installPWA:o,requestNotificationPermission:c,subscribeToPush:d,unsubscribeFromPush:u,serviceWorkerRegistration:a}}();return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"App Status"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsx)("div",{className:"p-4 border border-gray-200 rounded-lg",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",children:"Installation"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:e?"App is installed":"Running in browser"})]}),(0,i.jsx)("div",{className:"h-3 w-3 rounded-full ".concat(e?"bg-green-400":"bg-gray-400")})]})}),(0,i.jsx)("div",{className:"p-4 border border-gray-200 rounded-lg",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",children:"Connection"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:s?"Offline":"Online"})]}),(0,i.jsx)("div",{className:"h-3 w-3 rounded-full ".concat(s?"bg-red-400":"bg-green-400")})]})}),(0,i.jsx)("div",{className:"p-4 border border-gray-200 rounded-lg",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",children:"Notifications"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"granted"===t?"Enabled":"denied"===t?"Blocked":"Not set"})]}),(0,i.jsx)("div",{className:"h-3 w-3 rounded-full ".concat("granted"===t?"bg-green-400":"denied"===t?"bg-red-400":"bg-yellow-400")})]})}),(0,i.jsx)("div",{className:"p-4 border border-gray-200 rounded-lg",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",children:"Push Notifications"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:a?"Active":"Inactive"})]}),(0,i.jsx)("div",{className:"h-3 w-3 rounded-full ".concat(a?"bg-green-400":"bg-gray-400")})]})})]}),(0,i.jsxs)("div",{className:"flex space-x-3",children:["granted"!==t&&(0,i.jsx)(p.z,{variant:"outline",onClick:r,size:"sm",children:"Enable Notifications"}),"granted"===t&&!a&&(0,i.jsx)(p.z,{variant:"outline",onClick:l,size:"sm",children:"Enable Push Notifications"}),a&&(0,i.jsx)(p.z,{variant:"outline",onClick:o,size:"sm",children:"Disable Push Notifications"})]})]})}let N=[{id:"profile",title:"Profile Settings",description:"Manage your personal information and preferences",icon:a.Z},{id:"notifications",title:"Notifications",description:"Configure how and when you receive notifications",icon:r.Z},{id:"security",title:"Security & Privacy",description:"Manage your account security and privacy settings",icon:l.Z},{id:"bot",title:"Bot Configuration",description:"Customize your AI assistant behavior and responses",icon:o.Z},{id:"availability",title:"Availability",description:"Set your working hours and availability preferences",icon:c.Z},{id:"localization",title:"Language & Region",description:"Configure language, timezone, and regional settings",icon:d.Z},{id:"app",title:"App Settings",description:"Manage PWA features, offline mode, and app preferences",icon:u.Z}];function w(){let[e,s]=(0,n.useState)("profile"),[t,a]=(0,n.useState)(!1),[r,l]=(0,n.useState)({fullName:"Sarah Chen",email:"sarah.chen@propertyhub.sg",phone:"+65 9123 4567",timezone:"Asia/Singapore",language:"en",notifications:{email:!0,push:!0,sms:!1,newLeads:!0,appointments:!0,systemUpdates:!1},availability:{monday:{enabled:!0,start:"09:00",end:"18:00"},tuesday:{enabled:!0,start:"09:00",end:"18:00"},wednesday:{enabled:!0,start:"09:00",end:"18:00"},thursday:{enabled:!0,start:"09:00",end:"18:00"},friday:{enabled:!0,start:"09:00",end:"18:00"},saturday:{enabled:!1,start:"10:00",end:"16:00"},sunday:{enabled:!1,start:"10:00",end:"16:00"}},botSettings:{responseStyle:"professional",aggressiveness:"medium",followUpEnabled:!0,autoScheduling:!0}}),o=async()=>{a(!0),await new Promise(e=>setTimeout(e,1500)),a(!1)},c=()=>(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Personal Information"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,i.jsx)(h.I,{value:r.fullName,onChange:e=>l(s=>({...s,fullName:e.target.value}))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,i.jsx)(h.I,{type:"email",value:r.email,onChange:e=>l(s=>({...s,email:e.target.value}))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,i.jsx)(h.I,{value:r.phone,onChange:e=>l(s=>({...s,phone:e.target.value}))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),(0,i.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:r.timezone,onChange:e=>l(s=>({...s,timezone:e.target.value})),children:[(0,i.jsx)("option",{value:"Asia/Singapore",children:"Singapore (GMT+8)"}),(0,i.jsx)("option",{value:"Asia/Kuala_Lumpur",children:"Kuala Lumpur (GMT+8)"}),(0,i.jsx)("option",{value:"Asia/Bangkok",children:"Bangkok (GMT+7)"}),(0,i.jsx)("option",{value:"Asia/Jakarta",children:"Jakarta (GMT+7)"})]})]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Picture"}),(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsx)("div",{className:"h-16 w-16 bg-primary-100 rounded-full flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-xl font-medium text-primary-700",children:r.fullName.charAt(0)})}),(0,i.jsxs)("div",{children:[(0,i.jsx)(p.z,{variant:"outline",size:"sm",children:"Change Photo"}),(0,i.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF. Max size 2MB."})]})]})]})]}),d=()=>(0,i.jsx)("div",{className:"space-y-6",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Preferences"}),(0,i.jsx)("div",{className:"space-y-4",children:Object.entries(r.notifications).map(e=>{let[s,t]=e;return(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium text-gray-700",children:s.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}),(0,i.jsxs)("p",{className:"text-xs text-gray-500",children:["email"===s&&"Receive notifications via email","push"===s&&"Browser and mobile push notifications","sms"===s&&"SMS notifications for urgent matters","newLeads"===s&&"Notify when new leads are received","appointments"===s&&"Appointment reminders and updates","systemUpdates"===s&&"System maintenance and updates"]})]}),(0,i.jsx)(b,{checked:t,onCheckedChange:e=>l(t=>({...t,notifications:{...t.notifications,[s]:e}}))})]},s)})})]})}),x=()=>(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Password & Authentication"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)(p.z,{variant:"outline",className:"w-full justify-start",children:[(0,i.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Change Password"]}),(0,i.jsxs)(p.z,{variant:"outline",className:"w-full justify-start",children:[(0,i.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Enable Two-Factor Authentication"]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Active Sessions"}),(0,i.jsx)("div",{className:"space-y-3",children:(0,i.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Current Session"}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"Chrome on Windows â€¢ Singapore"})]}),(0,i.jsx)("span",{className:"text-xs text-green-600 font-medium",children:"Active"})]})})]})]});return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Settings"}),(0,i.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your account settings and preferences"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,i.jsx)("div",{className:"lg:col-span-1",children:(0,i.jsx)(f.Zb,{className:"p-4",children:(0,i.jsx)("nav",{className:"space-y-1",children:N.map(t=>{let n=t.icon;return(0,i.jsxs)("button",{onClick:()=>s(t.id),className:"w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ".concat(e===t.id?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-100"),children:[(0,i.jsx)(n,{className:"h-4 w-4 mr-3"}),t.title]},t.id)})})})}),(0,i.jsx)("div",{className:"lg:col-span-3",children:(0,i.jsxs)(f.Zb,{className:"p-6",children:[(()=>{switch(e){case"profile":return c();case"notifications":return d();case"security":return x();case"app":return(0,i.jsx)(j,{});default:return(0,i.jsx)("div",{className:"text-center py-12",children:(0,i.jsx)("p",{className:"text-gray-500",children:"Settings section coming soon..."})})}})(),(0,i.jsx)("div",{className:"flex justify-end pt-6 border-t border-gray-200 mt-6",children:(0,i.jsx)(p.z,{variant:"default",onClick:o,disabled:t,children:t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v.TK,{size:"sm",className:"mr-2"}),"Saving..."]}):"Save Changes"})})]})})]})]})}},85012:function(e,s,t){"use strict";t.d(s,{TK:function(){return l}});var i=t(57437);t(2265);var n=t(90535),a=t(94508);let r=(0,n.j)("animate-spin",{variants:{size:{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},variant:{default:"text-primary",muted:"text-muted-foreground",destructive:"text-destructive"}},defaultVariants:{size:"md",variant:"default"}});function l(e){let{size:s,variant:t,className:n,label:l="Loading...",...o}=e;return(0,i.jsxs)("div",{className:(0,a.cn)("flex items-center justify-center",n),role:"status","aria-label":l,...o,children:[(0,i.jsxs)("svg",{className:(0,a.cn)(r({size:s,variant:t})),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,i.jsx)("span",{className:"sr-only",children:l})]})}},62869:function(e,s,t){"use strict";t.d(s,{z:function(){return c}});var i=t(57437),n=t(2265),a=t(37053),r=t(90535),l=t(94508);let o=(0,r.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,s)=>{let{className:t,variant:n,size:r,asChild:c=!1,...d}=e,u=c?a.g7:"button";return(0,i.jsx)(u,{className:(0,l.cn)(o({variant:n,size:r,className:t})),ref:s,...d})});c.displayName="Button"},66070:function(e,s,t){"use strict";t.d(s,{Zb:function(){return r}});var i=t(57437),n=t(2265),a=t(94508);let r=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,i.jsx)("div",{ref:s,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...n})});r.displayName="Card",n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,i.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...n})}).displayName="CardHeader",n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,i.jsx)("h3",{ref:s,className:(0,a.cn)("font-semibold leading-none tracking-tight",t),...n})}).displayName="CardTitle",n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,i.jsx)("p",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",t),...n})}).displayName="CardDescription",n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,i.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",t),...n})}).displayName="CardContent",n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,i.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",t),...n})}).displayName="CardFooter"},95186:function(e,s,t){"use strict";t.d(s,{I:function(){return r}});var i=t(57437),n=t(2265),a=t(94508);let r=n.forwardRef((e,s)=>{let{className:t,type:n,...r}=e;return(0,i.jsx)("input",{type:n,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r})});r.displayName="Input"},94508:function(e,s,t){"use strict";t.d(s,{cn:function(){return a}});var i=t(61994),n=t(53335);function a(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,n.m6)((0,i.W)(s))}}},function(e){e.O(0,[851,438,332,971,117,744],function(){return e(e.s=80153)}),_N_E=e.O()}]);